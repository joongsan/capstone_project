if(!Handlebars.templates){Handlebars.templates={};}Handlebars.partials["handlebars/recentlyviewed/container"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,f,d,b,e){var c;return'<header class="cols-row-header"> <h3 id="rv-title" class="rv-title"> '+((c=d["if"].call(f!=null?f:{},(f!=null?f.signedIn:f),{"name":"if","hash":{},"fn":a.program(1,e,0),"inverse":a.program(3,e,0),"data":e}))!=null?c:"")+" </h3> </header> "+((c=d["if"].call(f!=null?f:{},(f!=null?f.isUseNewFlexCard:f),{"name":"if","hash":{},"fn":a.program(5,e,0),"inverse":a.program(7,e,0),"data":e}))!=null?c:"")+' <div> <span id="rv-legal-msg" class="rv-legal-msg">Prices and availability shown are from your last search and will be updated when you view current results.</span> </div>';},"1":function(a,f,d,b,e){var c;return" "+a.escapeExpression(((c=(c=d.signedIn||(f!=null?f.signedIn:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"signedIn","hash":{},"data":e}):c)))+"'s Recent Searches ";},"3":function(a,e,c,b,d){return" Your Recent Searches ";},"5":function(a,f,d,b,e){var c;return" "+((c=a.invokePartial(b["handlebars/recentlyviewed/rv-flex-card"],f,{"name":"handlebars/recentlyviewed/rv-flex-card","data":e,"helpers":d,"partials":b,"decorators":a.decorators}))!=null?c:"")+" ";},"7":function(a,f,d,b,e){var c;return' <div class="cols-row cf"> '+((c=d.each.call(f!=null?f:{},(f!=null?f.rvModel:f),{"name":"each","hash":{},"fn":a.program(8,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+" </div> ";},"8":function(a,f,d,b,e){var c;return" "+((c=a.invokePartial(b["handlebars/recentlyviewed/rv-box"],f,{"name":"handlebars/recentlyviewed/rv-box","data":e,"helpers":d,"partials":b,"decorators":a.decorators}))!=null?c:"")+" ";},"usePartial":true,"useData":true});Handlebars.partials["handlebars/recentlyviewed/rv-box"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,g,e,b,f){var c,d;return'<article class="box col" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'" data-rv-type="'+a.escapeExpression(((d=(d=e.rvType||(g!=null?g.rvType:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"rvType","hash":{},"data":f}):d)))+'"'+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRVH:g),{"name":"if","hash":{},"fn":a.program(1,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+((c=e["if"].call(g!=null?g:{},(g!=null?g.sfid:g),{"name":"if","hash":{},"fn":a.program(3,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+' > <a title="'+a.escapeExpression(((d=(d=e.hotelName||(g!=null?g.hotelName:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelName","hash":{},"data":f}):d)))+'" href="'+a.escapeExpression(((d=(d=e.localizedPageUrl||(g!=null?g.localizedPageUrl:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"localizedPageUrl","hash":{},"data":f}):d)))+'" class="cf"> <section class="rv-visual '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRV:g),{"name":"if","hash":{},"fn":a.program(5,f,0),"inverse":a.program(7,f,0),"data":f}))!=null?c:"")+'"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRV:g),{"name":"if","hash":{},"fn":a.program(9,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRS:g),{"name":"if","hash":{},"fn":a.program(11,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+' </section> <section class="rv-trip-info '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRV:g),{"name":"if","hash":{},"fn":a.program(5,f,0),"inverse":a.program(7,f,0),"data":f}))!=null?c:"")+'" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rv-trip-info"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSF:g),{"name":"if","hash":{},"fn":a.program(18,f,0),"inverse":a.program(20,f,0),"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.ab3293viewedHotelStars:g),{"name":"if","hash":{},"fn":a.program(22,f,0),"inverse":a.program(24,f,0),"data":f}))!=null?c:"")+' <span class="trip-info-city" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-trip-info-city"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRVH:g),{"name":"if","hash":{},"fn":a.program(26,f,0),"inverse":a.program(28,f,0),"data":f}))!=null?c:"")+' </span> <span class="trip-info-additional" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-trip-info-additional"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRVP:g),{"name":"if","hash":{},"fn":a.program(30,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSP:g),{"name":"if","hash":{},"fn":a.program(35,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSH:g),{"name":"if","hash":{},"fn":a.program(37,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+' </span> </section> <button class="rv-remove" data-control="remove" data-target-id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'" data-topic="remove-rv-box" data-transition="none"> <span class="icon icon-close" aria-hidden="true"></span> <span class="alt" aria-hidden="true">X</span> <span class="visuallyhidden"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSF:g),{"name":"if","hash":{},"fn":a.program(39,f,0),"inverse":a.program(41,f,0),"data":f}))!=null?c:"")+' </span> </button> <section class="rv-price-info" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rv-price-info"> <h5 class="price-info-price'+((c=e["if"].call(g!=null?g:{},(g!=null?g.seePrice:g),{"name":"if","hash":{},"fn":a.program(43,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+((c=e.unless.call(g!=null?g:{},(g!=null?g.seePrice:g),{"name":"unless","hash":{},"fn":a.program(45,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-price-info-price">'+a.escapeExpression(((d=(d=e.price||(g!=null?g.price:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"price","hash":{},"data":f}):d)))+'</h5> <span class="price-info-additional'+((c=e["if"].call(g!=null?g:{},(g!=null?g.origPrice:g),{"name":"if","hash":{},"fn":a.program(47,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-price-additional">'+a.escapeExpression(((d=(d=e.origPrice||(g!=null?g.origPrice:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"origPrice","hash":{},"data":f}):d)))+a.escapeExpression(((d=(d=e.additionalPriceInfo||(g!=null?g.additionalPriceInfo:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"additionalPriceInfo","hash":{},"data":f}):d)))+"</span> </section> "+((c=(e.ifRVPackageDiscountMessageEnabled||(g&&g.ifRVPackageDiscountMessageEnabled)||e.helperMissing).call(g!=null?g:{},(g!=null?g.packageSavings:g),{"name":"ifRVPackageDiscountMessageEnabled","hash":{},"fn":a.program(49,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" </a> </article>";},"1":function(a,f,d,b,e){var c;return' data-hotelId="'+a.escapeExpression(((c=(c=d.hotelId||(f!=null?f.hotelId:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelId","hash":{},"data":e}):c)))+'"';},"3":function(a,f,d,b,e){var c;return' sfid="'+a.escapeExpression(((c=(c=d.sfid||(f!=null?f.sfid:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"sfid","hash":{},"data":e}):c)))+'"';
},"5":function(a,e,c,b,d){return"isRV";},"7":function(a,e,c,b,d){return"isRS";},"9":function(a,f,d,b,e){var c;return' <figure class="aspect-ratio4-3 image" data-media-type="image" data-lazy="true" data-downgrade="false" data-src="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+'" data-alt="missing image alt" data-aspect-ratio="4-3"> <img alt="missing image alt" class="undefined" src="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+'"> <noscript data-src="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+'" data-alt="missing image alt" data-aspect-ratio="4-3" data-class="tile-media"> &lt;img src="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+'" alt="missing image alt" class="tile-media" /&gt; </noscript> <span class="media-loader"> <span class="loader loader-light loader-static" title="Loading..."></span> </span> </figure> ';},"11":function(a,f,d,b,e){var c;return' <span class="icon icon-'+((c=d["if"].call(f!=null?f:{},(f!=null?f.isRSP:f),{"name":"if","hash":{},"fn":a.program(12,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+((c=d["if"].call(f!=null?f:{},(f!=null?f.isRSF:f),{"name":"if","hash":{},"fn":a.program(14,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+((c=d["if"].call(f!=null?f:{},(f!=null?f.isRSH:f),{"name":"if","hash":{},"fn":a.program(16,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+'"></span> ';},"12":function(a,e,c,b,d){return"packagesalt";},"14":function(a,e,c,b,d){return"flightsalt";},"16":function(a,e,c,b,d){return"hotelsalt";},"18":function(a,f,d,b,e){var c;return' <h5 class="trip-info-main" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-trip-info-main" title="'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+'"><span class="sm-tablet-greater">'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+'</span><span class="sm-tablet">'+a.escapeExpression(((c=(c=d.rsfShortName||(f!=null?f.rsfShortName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"rsfShortName","hash":{},"data":e}):c)))+"</span></h5> ";},"20":function(a,f,d,b,e){var c;return' <h5 class="trip-info-main" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-trip-info-main" title="'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+'">'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+"</h5> ";},"22":function(a,f,d,b,e){var c;return' <strong class="star-rating rating-secondary rating secondary" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-rec-hotel-stars"> <span class="icon icon-stars'+a.escapeExpression(((c=(c=d.starsIcon||(f!=null?f.starsIcon:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"starsIcon","hash":{},"data":e}):c)))+' stars-black value-title" title="'+a.escapeExpression(((c=(c=d.stars||(f!=null?f.stars:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"stars","hash":{},"data":e}):c)))+' Star"></span> </strong> ';},"24":function(a,f,d,b,e){var c;return' <span class="trip-info-dates" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-trip-info-dates">'+a.escapeExpression(((c=(c=d.dates||(f!=null?f.dates:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"dates","hash":{},"data":e}):c)))+"</span> ";},"26":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.city||(f!=null?f.city:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"city","hash":{},"data":e}):c)));},"28":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.flightTypeLocalized||(f!=null?f.flightTypeLocalized:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"flightTypeLocalized","hash":{},"data":e}):c)));},"30":function(a,f,d,b,e){var c;return((c=d["if"].call(f!=null?f:{},(f!=null?f.info:f),{"name":"if","hash":{},"fn":a.program(31,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+((c=d.unless.call(f!=null?f:{},(f!=null?f.info:f),{"name":"unless","hash":{},"fn":a.program(33,e,0),"inverse":a.noop,"data":e}))!=null?c:"");},"31":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.info||(f!=null?f.info:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"info","hash":{},"data":e}):c)));},"33":function(a,e,c,b,d){return'<span class="icon icon-flights"></span><span>Flight included</span>';},"35":function(a,e,c,b,d){return"<span>Flight and hotel included</span>";},"37":function(a,f,d,b,e){var c;return"<span>"+a.escapeExpression(((c=(c=d.info||(f!=null?f.info:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"info","hash":{},"data":e}):c)))+"</span>";},"39":function(a,f,d,b,e){var c;return" Remove "+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+" from list of recently viewed flight searches ";},"41":function(a,f,d,b,e){var c;return" Remove "+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+" from list of recently viewed hotels ";},"43":function(a,e,c,b,d){return" see-price";},"45":function(a,e,c,b,d){return" has-price";},"47":function(a,e,c,b,d){return" package-orig-price";},"49":function(a,f,d,b,e){var c;return' <section class="rv-savings-info" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-rv-savings-info"> <span>Total savings: <span class="savingsAmount">'+a.escapeExpression(((c=(c=d.packageSavings||(f!=null?f.packageSavings:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"packageSavings","hash":{},"data":e}):c)))+"</span></span> </section> ";},"useData":true});Handlebars.partials["handlebars/recentlyviewed/rv-flex-card"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,f,d,b,e){var c;return'\n<div class="cf flex-2up flex-listing flex-theme-light cols-nested"> '+((c=d.each.call(f!=null?f:{},(f!=null?f.rvModel:f),{"name":"each","hash":{},"fn":a.program(1,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+" </div>";},"1":function(a,g,e,b,f){var c,d;return' <div id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'" class="col '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRV:g),{"name":"if","hash":{},"fn":a.program(2,f,0),"inverse":a.program(4,f,0),"data":f}))!=null?c:"")+'" data-rv-type="'+a.escapeExpression(((d=(d=e.rvType||(g!=null?g.rvType:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"rvType","hash":{},"data":f}):d)))+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRVH:g),{"name":"if","hash":{},"fn":a.program(6,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'" '+((c=e["if"].call(g!=null?g:{},(g!=null?g.sfid:g),{"name":"if","hash":{},"fn":a.program(9,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'><div class="flex-card '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRV:g),{"name":"if","hash":{},"fn":a.program(2,f,0),"inverse":a.program(4,f,0),"data":f}))!=null?c:"")+'"><div class="flex-link-wrap"><div class="flex-figure">'+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRV:g),{"name":"if","hash":{},"fn":a.program(11,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRS:g),{"name":"if","hash":{},"fn":a.program(13,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'</div><div class="flex-content"><div class="flex-area-primary">'+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSF:g),{"name":"if","hash":{},"fn":a.program(20,f,0),"inverse":a.program(22,f,0),"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.ab3293viewedHotelStars:g),{"name":"if","hash":{},"fn":a.program(24,f,0),"inverse":a.program(26,f,0),"data":f}))!=null?c:"")+' <span class="trip-info-city" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-trip-info-city"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRVH:g),{"name":"if","hash":{},"fn":a.program(28,f,0),"inverse":a.program(30,f,0),"data":f}))!=null?c:"")+' </span><span class="trip-info-additional" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-trip-info-additional"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRVP:g),{"name":"if","hash":{},"fn":a.program(32,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSP:g),{"name":"if","hash":{},"fn":a.program(37,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.isRSH:g),{"name":"if","hash":{},"fn":a.program(39,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+' </span></div><div class="flex-area-secondary"><section class="rv-price-info" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rv-price-info"><span class="flex-price price-info-price'+((c=e["if"].call(g!=null?g:{},(g!=null?g.seePrice:g),{"name":"if","hash":{},"fn":a.program(41,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+((c=e.unless.call(g!=null?g:{},(g!=null?g.seePrice:g),{"name":"unless","hash":{},"fn":a.program(43,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-price-info-price">'+a.escapeExpression(((d=(d=e.price||(g!=null?g.price:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"price","hash":{},"data":f}):d)))+'</span><span class="price-info-additional'+((c=e["if"].call(g!=null?g:{},(g!=null?g.origPrice:g),{"name":"if","hash":{},"fn":a.program(45,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-price-additional">'+a.escapeExpression(((d=(d=e.origPrice||(g!=null?g.origPrice:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"origPrice","hash":{},"data":f}):d)))+a.escapeExpression(((d=(d=e.additionalPriceInfo||(g!=null?g.additionalPriceInfo:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"additionalPriceInfo","hash":{},"data":f}):d)))+"</span></section> "+((c=(e.ifRVPackageDiscountMessageEnabled||(g&&g.ifRVPackageDiscountMessageEnabled)||e.helperMissing).call(g!=null?g:{},(g!=null?g.packageSavings:g),{"name":"ifRVPackageDiscountMessageEnabled","hash":{},"fn":a.program(47,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'</div></div><a class="flex-link" href="'+a.escapeExpression(((d=(d=e.localizedPageUrl||(g!=null?g.localizedPageUrl:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"localizedPageUrl","hash":{},"data":f}):d)))+'">'+a.escapeExpression(((d=(d=e.hotelName||(g!=null?g.hotelName:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelName","hash":{},"data":f}):d)))+'</a></div><div class="flex-area-tertiary"><button type="button" data-control="remove" data-target-id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'" class="btn-primary btn-close module-close flex-close"><span class="icon icon-close" aria-hidden="true"></span><span class="alt">close</span></button></div></div></div> ';
},"2":function(a,e,c,b,d){return"viewHistory";},"4":function(a,e,c,b,d){return"searchHistory";},"6":function(a,g,e,b,f){var c,d;return'" data-hotelId="'+a.escapeExpression(((d=(d=e.hotelId||(g!=null?g.hotelId:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelId","hash":{},"data":f}):d)))+((c=e["if"].call(g!=null?g:{},(g!=null?g.interactionId:g),{"name":"if","hash":{},"fn":a.program(7,f,0),"inverse":a.noop,"data":f}))!=null?c:"");},"7":function(a,f,d,b,e){var c;return'" data-interaction-id="'+a.escapeExpression(((c=(c=d.interactionId||(f!=null?f.interactionId:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"interactionId","hash":{},"data":e}):c)));},"9":function(a,f,d,b,e){var c;return"sfid='"+a.escapeExpression(((c=(c=d.sfid||(f!=null?f.sfid:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"sfid","hash":{},"data":e}):c)))+"'";},"11":function(a,f,d,b,e){var c;return' <section class="rv-visual isRV"><figure class="image aspect-ratio16-9 loading " data-media-type="image" data-lazy="true" data-src="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+'" data-srcset="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+", //images.trvl-media.com/"+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+" 959w, //images.trvl-media.com/"+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+" 725w, //images.trvl-media.com/"+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+' 491w" data-alt="missing image alt" data-aspect-ratio="16-9" data-class="tile-media"><noscript><img src="//images.trvl-media.com/'+a.escapeExpression(((c=(c=d.thumbnail||(f!=null?f.thumbnail:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"thumbnail","hash":{},"data":e}):c)))+'" alt="missing image alt" class="tile-media" /></noscript><span class="media-loader"><span class="loader loader-primary loader-light loader-static loading" aria-hidden="true" title="Loading..."></span></span></figure></section> ';},"13":function(a,f,d,b,e){var c;return' <section class="rv-visual isRS"><span class="icon icon-'+((c=d["if"].call(f!=null?f:{},(f!=null?f.isRSP:f),{"name":"if","hash":{},"fn":a.program(14,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+((c=d["if"].call(f!=null?f:{},(f!=null?f.isRSF:f),{"name":"if","hash":{},"fn":a.program(16,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+((c=d["if"].call(f!=null?f:{},(f!=null?f.isRSH:f),{"name":"if","hash":{},"fn":a.program(18,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+'"></span></section> ';},"14":function(a,e,c,b,d){return"packagesalt";},"16":function(a,e,c,b,d){return"flightsalt";},"18":function(a,e,c,b,d){return"hotelsalt";},"20":function(a,f,d,b,e){var c;return' <h5 class="flex-title truncate" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-trip-info-main" title="'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+'"><span class="sm-tablet-greater">'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+'</span><span class="sm-tablet">'+a.escapeExpression(((c=(c=d.rsfShortName||(f!=null?f.rsfShortName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"rsfShortName","hash":{},"data":e}):c)))+"</span></h5> ";},"22":function(a,f,d,b,e){var c;return' <h5 class="flex-title truncate" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-trip-info-main" title="'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+'">'+a.escapeExpression(((c=(c=d.hotelName||(f!=null?f.hotelName:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelName","hash":{},"data":e}):c)))+"</h5> ";},"24":function(a,f,d,b,e){var c;return' <strong class="star-rating rating-secondary rating secondary" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-rec-hotel-stars"><span class="icon icon-stars'+a.escapeExpression(((c=(c=d.starsIcon||(f!=null?f.starsIcon:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"starsIcon","hash":{},"data":e}):c)))+' stars-black value-title" title="'+a.escapeExpression(((c=(c=d.stars||(f!=null?f.stars:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"stars","hash":{},"data":e}):c)))+' Star"></span></strong> ';},"26":function(a,f,d,b,e){var c;return' <span class="trip-info-dates" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-trip-info-dates">'+a.escapeExpression(((c=(c=d.dates||(f!=null?f.dates:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"dates","hash":{},"data":e}):c)))+"</span> ";},"28":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.city||(f!=null?f.city:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"city","hash":{},"data":e}):c)));},"30":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.flightTypeLocalized||(f!=null?f.flightTypeLocalized:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"flightTypeLocalized","hash":{},"data":e}):c)));},"32":function(a,f,d,b,e){var c;return((c=d["if"].call(f!=null?f:{},(f!=null?f.info:f),{"name":"if","hash":{},"fn":a.program(33,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+((c=d.unless.call(f!=null?f:{},(f!=null?f.info:f),{"name":"unless","hash":{},"fn":a.program(35,e,0),"inverse":a.noop,"data":e}))!=null?c:"");},"33":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.info||(f!=null?f.info:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"info","hash":{},"data":e}):c)));},"35":function(a,e,c,b,d){return'<span class="icon icon-flights"></span><span>Flight included</span>';},"37":function(a,e,c,b,d){return"<span>Flight and hotel included</span>";},"39":function(a,f,d,b,e){var c;return"<span>"+a.escapeExpression(((c=(c=d.info||(f!=null?f.info:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"info","hash":{},"data":e}):c)))+"</span>";},"41":function(a,e,c,b,d){return" see-price";},"43":function(a,e,c,b,d){return" has-price";},"45":function(a,e,c,b,d){return" package-orig-price";},"47":function(a,f,d,b,e){var c;return' <section class="rv-savings-info" id="'+a.escapeExpression(((c=(c=d.id||(f!=null?f.id:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"id","hash":{},"data":e}):c)))+'-rv-savings-info"><span>Total savings: <span class="savingsAmount">'+a.escapeExpression(((c=(c=d.packageSavings||(f!=null?f.packageSavings:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"packageSavings","hash":{},"data":e}):c)))+"</span></span></section> ";
},"useData":true});if(!Handlebars.templates){Handlebars.templates={};}Handlebars.partials["handlebars/recommender/container"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,f,d,b,e){var c;return'<header class="cols-row-header section-header cf"> <h3 id="rec-title" class="section-header-main">Recommended Hotels</h3> <h4 class="section-header-sub"> '+((c=d["if"].call(f!=null?f:{},(f!=null?f.isForBookedFlight:f),{"name":"if","hash":{},"fn":a.program(1,e,0),"inverse":a.program(3,e,0),"data":e}))!=null?c:"")+" </h4> "+((c=d["if"].call(f!=null?f:{},(f!=null?f.displayAsAveragePrice:f),{"name":"if","hash":{},"fn":a.program(5,e,0),"inverse":a.program(7,e,0),"data":e}))!=null?c:"")+' </header> <div class="content-slider" id="rec-content-slider" data-omniture-prefix="Home.SuggHotel" data-control="content-slider"> <section class="content-slider-mask cols-nested"> <div class="tile-grid cf"> '+((c=d.each.call(f!=null?f:{},(f!=null?f.hotel:f),{"name":"each","hash":{},"fn":a.program(10,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+" </div> </section> </div>";},"1":function(a,f,d,b,e){var c;return" Because you booked a flight to "+a.escapeExpression(((c=(c=d.city||(f!=null?f.city:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"city","hash":{},"data":e}):c)))+" ";},"3":function(a,f,d,b,e){var c;return" Based on your recent search in "+a.escapeExpression(((c=(c=d.city||(f!=null?f.city:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"city","hash":{},"data":e}):c)))+" ";},"5":function(a,e,c,b,d){return' <span id="rec-disclaimer">Prices are average per night</span> ';},"7":function(a,f,d,b,e){var c;return" "+((c=d["if"].call(f!=null?f:{},(f!=null?f.isMultiNight:f),{"name":"if","hash":{},"fn":a.program(8,e,0),"inverse":a.program(8,e,0),"data":e}))!=null?c:"")+" ";},"8":function(a,f,d,b,e){var c;return' <span id="rec-disclaimer">Prices are for a '+a.escapeExpression(((c=(c=d.nights||(f!=null?f.nights:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"nights","hash":{},"data":e}):c)))+" night stay</span> ";},"10":function(a,f,d,b,e){var c;return" "+((c=a.invokePartial(b["handlebars/recommender/hotel-tile"],f,{"name":"handlebars/recommender/hotel-tile","data":e,"helpers":d,"partials":b,"decorators":a.decorators}))!=null?c:"")+" ";},"usePartial":true,"useData":true});Handlebars.partials["handlebars/recommender/hotel-tile"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,g,e,b,f){var c,d;return'<article id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'" class="col tile tile-no-header tile-no-footer current-tile"> <a class="tile-link" href="'+a.escapeExpression(((d=(d=e.localizedPageUrl||(g!=null?g.localizedPageUrl:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"localizedPageUrl","hash":{},"data":f}):d)))+'"> <section class="tile-content"> <figure class="image aspect-ratio16-9 " data-lazy="false"> <img src="'+a.escapeExpression(((d=(d=e.thumbnail||(g!=null?g.thumbnail:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"thumbnail","hash":{},"data":f}):d)))+'" alt="'+a.escapeExpression(((d=(d=e.hotelName||(g!=null?g.hotelName:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelName","hash":{},"data":f}):d)))+'" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rec-image" class="tile-media"> </figure> <div class="box tile-details"> <section class="rec-hotel-info"> <h5 id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rec-hotel-name" class="tile-name" title="'+a.escapeExpression(((d=(d=e.hotelName||(g!=null?g.hotelName:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelName","hash":{},"data":f}):d)))+'">'+a.escapeExpression(((d=(d=e.hotelName||(g!=null?g.hotelName:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelName","hash":{},"data":f}):d)))+'</h5> <strong class="star-rating rating-secondary rating secondary" id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rec-hotel-stars"> <span class="visuallyhidden">'+a.escapeExpression(((d=(d=e.stars||(g!=null?g.stars:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"stars","hash":{},"data":f}):d)))+' out of 5 stars</span> <span class="icon stars-background"></span> <span class="icon icon-stars'+a.escapeExpression(((d=(d=e.starsIcon||(g!=null?g.starsIcon:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"starsIcon","hash":{},"data":f}):d)))+' stars-black value-title" title="'+a.escapeExpression(((d=(d=e.stars||(g!=null?g.stars:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"stars","hash":{},"data":f}):d)))+'"></span> </strong> <span class="rec-hotel-dates">'+a.escapeExpression(((d=(d=e.dates||(g!=null?g.dates:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"dates","hash":{},"data":f}):d)))+'</span> </section> <section class="rec-price-info '+((c=e["if"].call(g!=null?g:{},(g!=null?g.ab6925redColorPrice:g),{"name":"if","hash":{},"fn":a.program(1,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'"> '+((c=e["if"].call(g!=null?g:{},(g!=null?g.showCurrencyAsSuffix:g),{"name":"if","hash":{},"fn":a.program(3,f,0),"inverse":a.program(6,f,0),"data":f}))!=null?c:"")+" </section> </div> </section> </a> </article>";},"1":function(a,e,c,b,d){return"price-emphasized";},"3":function(a,g,e,b,f){var c,d;return" <span>"+((c=e["if"].call(g!=null?g:{},(g!=null?g.price:g),{"name":"if","hash":{},"fn":a.program(4,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'<h5 id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rec-hotel-price">'+a.escapeExpression(((d=(d=e.price||(g!=null?g.price:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"price","hash":{},"data":f}):d)))+"</h5></span> ";},"4":function(a,f,d,b,e){var c;return'<span class="currencySymbolPostfix">'+a.escapeExpression(((c=(c=d.currencySymbol||(f!=null?f.currencySymbol:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"currencySymbol","hash":{},"data":e}):c)))+"</span>";},"6":function(a,g,e,b,f){var c,d;return" <span>"+((c=e["if"].call(g!=null?g:{},(g!=null?g.price:g),{"name":"if","hash":{},"fn":a.program(7,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'<h5 id="'+a.escapeExpression(((d=(d=e.id||(g!=null?g.id:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"id","hash":{},"data":f}):d)))+'-rec-hotel-price">'+a.escapeExpression(((d=(d=e.price||(g!=null?g.price:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"price","hash":{},"data":f}):d)))+"</h5></span> ";},"7":function(a,f,d,b,e){var c;return a.escapeExpression(((c=(c=d.currencySymbol||(f!=null?f.currencySymbol:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"currencySymbol","hash":{},"data":e}):c)))+" ";},"useData":true});if(!Handlebars.templates){Handlebars.templates={};}Handlebars.partials["handlebars/localfavourites/container"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,f,d,b,e){var c;return'<div class="content-slider" id="local-favourites-module" data-control="content-slider" data-omniture-prefix="Home.LocHotel"> <section class="content-slider-mask cols-nested"><div class="tile-grid cf" > '+((c=(d.LFMlist||(f&&f.LFMlist)||d.helperMissing).call(f!=null?f:{},(f!=null?f.recommendationsTiles:f),{"name":"LFMlist","hash":{},"fn":a.program(1,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+" </div></section> </div>";
},"1":function(a,g,e,b,f){var c,d;return' <article class="col tile tile-no-header tile-no-footer"><a class="tile-link" href="'+a.escapeExpression(((d=(d=e.urlToHotelInfosite||(g!=null?g.urlToHotelInfosite:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"urlToHotelInfosite","hash":{},"data":f}):d)))+'"data-track="HP.REC.LocalDest.Click"><section class="tile-content"><figure class="image aspect-ratio16-9 loading" data-media-type="image" data-lazy="true" data-src="'+a.escapeExpression((e.LFMuseLargerImage||(g&&g.LFMuseLargerImage)||e.helperMissing).call(g!=null?g:{},(g!=null?g.urlToThumbnail:g),{"name":"LFMuseLargerImage","hash":{},"data":f}))+'" data-alt="'+a.escapeExpression((e.LFMunescape||(g&&g.LFMunescape)||e.helperMissing).call(g!=null?g:{},(g!=null?g.localizedHotelName:g),{"name":"LFMunescape","hash":{},"data":f}))+'" data-aspect-ratio="16-9" data-class="tile-media" data-class="tile-media"><noscript><img src="'+a.escapeExpression((e.LFMuseLargerImage||(g&&g.LFMuseLargerImage)||e.helperMissing).call(g!=null?g:{},(g!=null?g.urlToThumbnail:g),{"name":"LFMuseLargerImage","hash":{},"data":f}))+'" alt="'+a.escapeExpression((e.LFMunescape||(g&&g.LFMunescape)||e.helperMissing).call(g!=null?g:{},(g!=null?g.localizedHotelName:g),{"name":"LFMunescape","hash":{},"data":f}))+'" class="tile-media" /></noscript><span class="media-loader"><span class="loader loader-primary loader-light loader-static loading" aria-hidden="true" title="Loading..."></span></span></figure><div class="box tile-details"><h4 class="tile-name">'+a.escapeExpression((e.LFMunescape||(g&&g.LFMunescape)||e.helperMissing).call(g!=null?g:{},(g!=null?g.hotelName:g),{"name":"LFMunescape","hash":{},"data":f}))+'</h4><strong class="star-rating rating-secondary star rating secondary"><span class="visuallyhidden">'+a.escapeExpression(((d=(d=e.starRating||(g!=null?g.starRating:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"starRating","hash":{},"data":f}):d)))+' out of 5.0</span><span class="icon icon-stars'+a.escapeExpression((e.LFMstarRating||(g&&g.LFMstarRating)||e.helperMissing).call(g!=null?g:{},(g!=null?g.starRating:g),{"name":"LFMstarRating","hash":{},"data":f}))+' stars-black value-title" aria-hidden="true"></span></strong><p class="secondary">'+a.escapeExpression((e.LFMunescape||(g&&g.LFMunescape)||e.helperMissing).call(g!=null?g:{},(g!=null?g.hotelCity:g),{"name":"LFMunescape","hash":{},"data":f}))+((c=e["if"].call(g!=null?g:{},(g!=null?g.hotelProvince:g),{"name":"if","hash":{},"fn":a.program(2,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'</p><p class="secondary tile-price"><strong>'+a.escapeExpression((e.LFMunescape||(g&&g.LFMunescape)||e.helperMissing).call(g!=null?g:{},(g!=null?g.averagePrice:g),{"name":"LFMunescape","hash":{},"data":f}))+"</strong></p></div></section></a></article> ";},"2":function(a,e,c,b,d){return",&nbsp"+a.escapeExpression((c.LFMunescape||(e&&e.LFMunescape)||c.helperMissing).call(e!=null?e:{},(e!=null?e.hotelProvince:e),{"name":"LFMunescape","hash":{},"data":d}));},"useData":true});if(!Handlebars.templates){Handlebars.templates={};}Handlebars.partials["handlebars/airattach/hotels-container"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,g,e,b,f){var c,d;return'<div class="cf flex-3up flex-tile flex-theme-light flex-collapse cols-nested"> '+((c=e.each.call(g!=null?g:{},(g!=null?g.hotels:g),{"name":"each","hash":{},"fn":a.program(1,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+' </div> <a href="'+a.escapeExpression(((d=(d=e.hotelSearchUrl||(g!=null?g.hotelSearchUrl:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"hotelSearchUrl","hash":{},"data":f}):d)))+'">See all hotels <span class="icon icon-toggle90" aria-hidden="true"></span></a>';},"1":function(a,f,d,b,e){var c;return' <div class="col"> '+((c=a.invokePartial(b["handlebars/airattach/hotel-tile"],f,{"name":"handlebars/airattach/hotel-tile","data":e,"helpers":d,"partials":b,"decorators":a.decorators}))!=null?c:"")+" </div> ";},"usePartial":true,"useData":true});Handlebars.partials["handlebars/airattach/hotel-tile"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,f,d,b,e){var c;return'<div class="flex-card flex-1up flex-tile" > <div class="flex-link-wrap"> <div class="flex-figure"><figure class="image aspect-ratio16-9 loading" data-media-type="image" data-lazy="true" data-src="'+a.escapeExpression(((c=(c=d.img||(f!=null?f.img:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"img","hash":{},"data":e}):c)))+'" data-aspect-ratio="16-9" data-class="tile-media"><noscript><img src="'+a.escapeExpression(((c=(c=d.img||(f!=null?f.img:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"img","hash":{},"data":e}):c)))+'" alt="" class="tile-media" /></noscript><span class="media-loader"><span class="loader loader-primary loader-light loader-static loading" aria-hidden="true" title="Loading..."></span></span></figure></div> <div class="flex-content"> <div class="flex-area-primary"><h2 class="flex-title">'+a.escapeExpression(((c=(c=d.name||(f!=null?f.name:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"name","hash":{},"data":e}):c)))+'</h2> <strong class="star-rating rating-secondary star rating" > <span class="visuallyhidden">'+a.escapeExpression(((c=(c=d.stars||(f!=null?f.stars:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"stars","hash":{},"data":e}):c)))+' out of 5.0</span> <span class="icon icon-stars'+a.escapeExpression(((c=(c=d.stars||(f!=null?f.stars:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"stars","hash":{},"data":e}):c)))+' stars-black value-title" aria-hidden="true"></span> </strong> <p class="hotel-date-range">'+a.escapeExpression(((c=(c=d.dates||(f!=null?f.dates:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"dates","hash":{},"data":e}):c)))+'</p></div> <div class="flex-area-secondary"><p><span class="flex-price"> '+a.escapeExpression(((c=(c=d.price||(f!=null?f.price:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"price","hash":{},"data":e}):c)))+'</span></p></div> </div> <a class="flex-link" href="'+a.escapeExpression(((c=(c=d.url||(f!=null?f.url:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"url","hash":{},"data":e}):c)))+'" >link info</a> </div> </div>';},"useData":true});if(!Handlebars.templates){Handlebars.templates={};}Handlebars.partials["handlebars/topdest"]=Handlebars.template({"compiler":[7,">= 4.0.0"],"main":function(a,f,d,b,e){var c;return'<div class="cf flex-3up flex-tile flex-theme-light flex-collapse cols-nested"> '+((c=d.each.call(f!=null?f:{},f,{"name":"each","hash":{},"fn":a.program(1,e,0),"inverse":a.noop,"data":e}))!=null?c:"")+" </div>";},"1":function(a,g,e,b,f){var c,d;return' <div id="topdest-'+a.escapeExpression(((d=(d=e.rid||(g!=null?g.rid:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"rid","hash":{},"data":f}):d)))+'" class="col top-dest-tile'+((c=e["if"].call(g!=null?g:{},(g!=null?g.hide:g),{"name":"if","hash":{},"fn":a.program(2,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+((c=e["if"].call(g!=null?g:{},(g!=null?g.hideMobile:g),{"name":"if","hash":{},"fn":a.program(4,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'"><div class="flex-card top-dest-tile'+((c=e["if"].call(g!=null?g:{},(g!=null?g.hide:g),{"name":"if","hash":{},"fn":a.program(2,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+((c=e["if"].call(g!=null?g:{},(g!=null?g.hideMobile:g),{"name":"if","hash":{},"fn":a.program(4,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'"><div class="flex-link-wrap"><div class="flex-figure"><figure class="image aspect-ratio16-9 loading" data-media-type="image" data-lazy="true" data-src="https://images.trvl-media.com/media/content/expuk/Images/deals/destinations/w456/'+a.escapeExpression(((d=(d=e.img||(g!=null?g.img:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"img","hash":{},"data":f}):d)))+'" data-aspect-ratio="16-9" data-class="tile-media"><noscript><img src="https://images.trvl-media.com/media/content/expuk/Images/deals/destinations/w456/'+a.escapeExpression(((d=(d=e.img||(g!=null?g.img:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"img","hash":{},"data":f}):d)))+'" alt="" class="tile-media" /></noscript><span class="media-loader"><span class="loader loader-primary loader-light loader-static loading" aria-hidden="true" title="Loading..."></span></span></figure></div><div class="flex-content"><div class="flex-area-primary"><h2 class="flex-title truncate">'+a.escapeExpression(((d=(d=e.title||(g!=null?g.title:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"title","hash":{},"data":f}):d)))+'</h2><p class="secondary regionViewCount"></p></div><div class="flex-area-secondary">'+((c=e["if"].call(g!=null?g:{},(g!=null?g.price:g),{"name":"if","hash":{},"fn":a.program(6,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+" "+((c=e["if"].call(g!=null?g:{},(g!=null?g.hotelcount:g),{"name":"if","hash":{},"fn":a.program(8,f,0),"inverse":a.noop,"data":f}))!=null?c:"")+'</div></div><a class="flex-link" href="'+a.escapeExpression(((d=(d=e.url||(g!=null?g.url:g))!=null?d:e.helperMissing),(typeof d==="function"?d.call(g!=null?g:{},{"name":"url","hash":{},"data":f}):d)))+'">link info</a></div></div></div> ';
},"2":function(a,e,c,b,d){return" visuallyhidden";},"4":function(a,e,c,b,d){return" hideMobile";},"6":function(a,f,d,b,e){var c;return'<p><span class="avg-text">avg</span><span class="flex-price">'+a.escapeExpression(((c=(c=d.price||(f!=null?f.price:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"price","hash":{},"data":e}):c)))+"</span></p>";},"8":function(a,f,d,b,e){var c;return'<p class="topdest-hotelcount-container"><span class="flex-hotelcount">'+a.escapeExpression(((c=(c=d.hotelcount||(f!=null?f.hotelcount:f))!=null?c:d.helperMissing),(typeof c==="function"?c.call(f!=null?f:{},{"name":"hotelcount","hash":{},"data":e}):c)))+"</span></p>";},"useData":true});var corewizard=window["corewizard"]||{};corewizard.search=corewizard.search||{};corewizard.search.trivagoRedirectionUrl=function(b){if(dctk){var d="LTC.NHP.SearchClicked";try{dctk.trackEvent(d,b.activeElement,{prop16:d,eVar28:d,eVar18:"Homepage"});}catch(c){}}var a=new corewizard.search.SearchUrl("/Trivago-Redirection");a.beginQuery();if(!b.isDateless){a.addParameter("startDate",b.startDate,true);a.addParameter("endDate",b.endDate,true);}if(b.isNinePlusRoomRequest){a.addParameter("adults","2,2,2,2,2,2,2,2,2");}else{corewizard.search.hotelSearchUrl.addAdultsAndChildrenParams(b,a);}a.addParameter("redirectionURL",encodeURIComponent(b.redirectionURL));return a.toString();};corewizard.search.trivagoRedirectionUrl.shouldRedirect=function(a,b){return b==="hotel"&&a.redirectionURL&&a.regionId<=-1000;};(function(){var c="expweb";function a(){var f=document.cookie;var i=f.substr(f.indexOf("abucket"));var g=i.substr(0,i.indexOf(";"));var h=g.substr(g.indexOf("=")+1);return h;}if(Modernizr.localstorage){var b=localStorage.getItem("homepage.pageViewData");}var d=!!b;var e;if(d){e=JSON.parse(b);if(e.application!==c||e.abucket!==a()){dctk.logging.logError("Double Homepage",new Error('Homepage app:"'+c+'" reported:'+e.application+" cookie:"+a()+" reported:"+e.abucket));}}else{if(Modernizr.localstorage){localStorage.setItem("homepage.pageViewData",JSON.stringify({version:1,application:c,abucket:a()}));}}})();var urgency={$urgency_msg_box:$("#urgency_msg_box"),$aria_live_container:$("#uitk-live-announce"),timeout:10000};urgency.init=function(a){if(corewizard.conf.helpers.mobileSuppress()){return;}if(this.$urgency_msg_box.length==0){return;}var d=a.get("regionId");var c=a.get("regionName")||a.get("destination");var b=a.get("tab");if(b=="hotel"&&d&&c){urgency.getRegionalHotelUrgency(d,function(i){if(i&&i.hotelProductActivityAtRegionLevelList&&i.hotelProductActivityAtRegionLevelList[0]){var g=i.hotelProductActivityAtRegionLevelList[0].viewCount;if(g>1){var f=c.indexOf("(");if(f!=-1){c=(c.charAt(f+4)=="-")?c.substring(f+5,c.length-1):$.trim(c.split("(")[0]);}else{c=c.split(",")[0];}var j=corewizard.conf.def.brand;var h=corewizard.masterconfig.urgencyMessage.replace("[num]",g).replace("[city]",c).replace("[brand]",j);var e=corewizard.search.hotelSearchUrl(a.toJSON());urgency.showUrgency(h,e);}}});}setTimeout(function(){urgency.$urgency_msg_box.fadeOut();},urgency.timeout);};urgency.showUrgency=function(b,a){this.$urgency_msg_box.find("p").html(b);this.$aria_live_container.html(b);this.$urgency_msg_box.animate({opacity:0.9},2000);this.$urgency_msg_box.click(function(){window.location=a;});this.$urgency_msg_box.on("click","span",function(c){c.stopPropagation();urgency.$urgency_msg_box.fadeOut();});};urgency.getRegionalHotelUrgency=function(b,a){$.ajax({dataType:"json",url:"/api/urgency/regionActivity/"+b,success:a,cache:false,timeout:5000});};urgency.getFlightUrgencyMessage=function(a){var d=a.get("destination");var f=d.substr(d.indexOf("(")+1,3);var b=a.get("origin");var e=b.substr(b.indexOf("(")+1,3);var c=a.get("departing").split("/");var g=c[2]+"-"+c[0]+"-"+c[1];$.ajax({dataType:"json",url:"/Flight-Urgency-Message",type:"GET",data:{"departureDate":g,"departureCode":e,"arrivalCode":f},success:function(m){m=$.parseJSON(m);if(m){var s=m.count;if(s>1){var k=a.get("destination").split(",")[0];var n=a.get("origin").split(",")[0];var i=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];var r=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"];var l=new Date(a.get("departing"));var p="th";var o=l.getDate()%10;if(o==1&&l.getDate()!=11){p="st";}else{if(o==2){p="nd";}else{if(o==3){p="rd";}}}var q=r[l.getDay()]+", "+i[l.getMonth()]+" "+l.getDate()+p;var j=s+" travelers are searching for a flight from "+n+" to "+k+" on "+q+".";var h=corewizard.search.flightSearchUrl(a.toJSON());urgency.showUrgency(j,h);}}},cache:false,timeout:5000});};var feefo={$feefo:null};feefo.getRatings=function(a){feefo.$feefo=$("#feefo");if(feefo.$feefo.length==0){return;}a=a||feefo.$feefo.attr("data-url")||"//www.feefo.com/feefo/xmlfeed.jsp?logon=www.expedia.co.uk/Expedia.co.uk";$.ajax({dataType:"jsonp",url:a+"&json=true",success:feefo.render,cache:false,timeout:5000});};feefo.formatNumberWithNumberSeparator=function(c){var a=c.toString(),b=corewizard.conf.def.numberSeparator||",";if(a.length>3){a=a+"#";a=a.replace(/\d(?=(\d{3})+\#)/g,"$&"+b).replace("#","");}return a;};feefo.render=function(a){if(a&&a.FEEDBACKLIST&&a.FEEDBACKLIST.SUMMARY){var c=a.FEEDBACKLIST.SUMMARY.AVERAGE;var b=a.FEEDBACKLIST.SUMMARY.COUNT;b=feefo.formatNumberWithNumberSeparator(b);feefo.addStarRating(c);$(".feefo-circle").text(c+"%");$(".feefo-count").text(b);feefo.$feefo.removeClass("visuallyhidden");}};feefo.addStarRating=function(d){if(d>100){d=90;}var a=Math.floor(d/10)/2;if(a!=4.5){if(a%1==0){a+=".0";}var b=a.replace(".","-");var c='<span class="visuallyhidden"><STAR-DOT> out of 5 stars</span><span class="icon icon-stars<STAR-DASH> stars-black value-title" title="<STAR-DOT>" aria-hidden="true"></span>';c=c.replace(/<STAR-DOT>/g,a);c=c.replace(/<STAR-DASH>/g,b);$("#feefo .star-rating").html(c);}};if("undefined"==typeof(exp)){var exp={};}if("undefined"==typeof(exp.core)){exp.core={};}if("undefined"==typeof(exp.core.date)){exp.core.date={};}exp.core.date.Calendar=function(a){var b={config:a,rM:[31,28,31,30,31,30,31,31,30,31,30,31],getDayOfWeekFormat:function(){return"#ddd#, #MMM# #d#";},getDayOfWeekFormatRegex:function(){return/^(\S{3}), (\S{3}) (\d{1,2})$/;},getSingleMonths:function(){if(uitk.locale&&uitk.locale=="es_MX"){return["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"];}return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];},getDayNames:function(){if(uitk.locale&&uitk.locale=="es_MX"){return["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"];}return["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];},getMonthInDayOfWeek:function(c){var f=NaN;if(c instanceof Array&&c.length==4){var d=c[2];var e=this.getSingleMonths();if($.inArray(d,e)>=0){f=$.inArray(d,e);}}return f;},getDateInDayOfWeek:function(c){var d=NaN;if(c instanceof Array&&c.length==4){d=parseInt(c[3]);}return d;},getDateFormat:function(){return this.config.getDateFormat();},getDateSeparator:function(){return this.config.getDateSeparator();},getStartOfWeek:function(){return this.config.getStartOfWeek();},getShowDayOfWeek:function(){return this.config.getShowDayOfWeek();},getDateFromDayOfWeek:function(g){if(!this.getDayOfWeekFormatRegex().test(g)){return null;}var c=this.getDayOfWeekFormatRegex().exec(g);var j=this.getMonthInDayOfWeek(c);var d=this.getDateInDayOfWeek(c);var h=new Date().getFullYear();var e;for(var f=0;f<3;f++){e=new Date(h+f,j,d);if(!isNaN(e.getYear())&&this.toStringWithDayOfWeek(e)==g){return e;}}return null;},getDateFromString:function(n,c){if(!n||!n.length){return null;}n=$.trim(n);if(this.getShowDayOfWeek()){if(n.match(this.getDayOfWeekFormatRegex())){return this.getDateFromDayOfWeek(n);}}n=n.replace(/\s+/g,"");if(n.match(/[^-|\d|\.|\/]/)){return null;}var l=n.split(/-|\.|\//);for(var g=0;g<l.length;g++){l[g]=parseInt(l[g],10);}if(!l[1]){return null;}var f,j,k;var e=this.getDateFormat();if(e=="yymmdd"){if(!l[2]){return null;}f=l[1];j=l[2];k=l[0];}else{if(e=="mmddyy"){f=l[0];j=l[1];}else{f=l[1];j=l[0];
}if(l[2]){k=l[2];}else{k=this.DefYr(f-1,j);}}var h=new Date().getFullYear();f-=1;if(k.toString().length<=2){k+=2000;}if(k<h&&!c){k=h;}if(k<1601||k>4500||f<0||f>11||j<1||j>this.getMonthCount(f,k)){return null;}return new Date(k,f,j);},toStringWithDayOfWeek:function(f){if(f&&!isNaN(f.getFullYear())){var c=this.getSingleMonths();var j=this.getDayNames();var h=f.getDate();var e=f.getDay();var g=f.getMonth();var i=this.getDayOfWeekFormat();i=i.replace("#ddd#",j[e]);i=i.replace("#MMM#",c[g]);i=i.replace("#d#",h);return i;}else{return"";}},toStringWithDayFromComp:function(e,c,f){return this.toStringWithDayFromDate(new Date(f,c-1,e));},toStringFromComp:function(i,c,j){if(this.getShowDayOfWeek()){return this.toStringWithDayFromComp(i,c,j);}function h(d){return d<10?"0"+d:d;}var f="";var g=this.getDateSeparator();var e=this.getDateFormat();i=h(i);c=h(c);if(e=="mmddyy"){f=c+g+i+g+j;}else{if(e=="ddmmyy"){f=i+g+c+g+j;}else{f=j+g+c+g+i;}}return f;},toStringWithDayFromDate:function(d){var c="";if(d==null){return c;}return this.toStringWithDayOfWeek(d);},toStringFromDate:function(f){var e="";var g=this.getDateSeparator();var d=this.getDateFormat();var h=f.getMonth()+1;var c=f.getDate();var i=f.getFullYear();if(d=="mmddyy"){e=h+g+c+g+i;}else{if(d=="ddmmyy"){e=c+g+h+g+i;}else{e=i+g+h+g+c;}}return e;},IsLY:function(c){if(0==c%4&&((c%100!=0)||(c%400==0))){return true;}else{return false;}},DefYr:function(c,g){var e=new Date();var f=(e.getYear()<1000)?1900+e.getYear():e.getYear();if(c<e.getMonth()||(c==e.getMonth()&&g<e.getDate())){f++;}return f;},getMonthCount:function(d,f){var e=this.rM[d];if((1==d)&&this.IsLY(f)){e++;}return e;},IsLastDayOfMonth:function(c){return this.getMonthCount(c.getMonth(),c.getFullYear())==c.getDate();},incrementMonth:function(c){if(c.getMonth()==11){c.setMonth(0);c.setFullYear(c.getFullYear()+1);}else{c.setMonth(c.getMonth()+1);}return c;},decrementMonth:function(c){if(c.getMonth()==0){c.setMonth(11);c.setFullYear(c.getFullYear()-1);}else{c.setMonth(c.getMonth()-1);}return c;}};return b;};exp.core.date.DateUpdater=function(d,b){var a;var c={config:b,calendar:d,register:function(g,u,s,h,v,j,f){s=s||0;var m=$(g);var p=this.calendar.getDateFromString(m[0].value,f);var k=$(u);var o=this.calendar.getDateFromString(k[0].value,f);var l=this.calendar.getDateSeparator();var e=this.calendar.getDateFormat();var q=e.substring(0,2)+l+e.substring(2,4)+l+e.substring(4,6);var t=new Date();t.setHours(0,0,0,0);if(p&&p.valueOf()<t.valueOf()){m[0].value=q;}if(o&&o.valueOf()<t.valueOf()){k[0].value=q;}a=this;var i=function(){a.update("#"+g.id,"#"+u.id,s,h,j,f);};var r=function(){a.updateByNights(m[0],k[0],s,f);a.update(m[0],k[0],s,h,null,f);};$("body").on("blur","#"+g.id,i);$("body").on("focus","#"+g.id,i);$("body").on("blur","#"+u.id,i);$("body").on("focus","#"+u.id,i);var n=$("#"+g.id+"-stay-nights");if(n.length!=0){n.change(r);n.keypress(r);}},days_between:function(i,h){var j=1000*60*60*24;var g=i.getTime();var f=h.getTime();var e=Math.abs(g-f);return Math.round(e/j);},updateNumberOfNights:function(i,h){var g=document.getElementById("hot-sear-date-num-nights");if(this.config!=undefined&&g!=null){var e=this.config.getNightTextConfig();var f=this.days_between(h,i);if(f>1){g.innerHTML=f+" "+e[1];}else{g.innerHTML=e[0];}g.style.display="inline";}},updateDayName:function(j,f){var i=$("#"+j.id+"-day");if(this.config!=undefined&&i.length!=0){try{var e=f.getDay();if(e==undefined){i.html("");return;}var h=this.config.getDayNames();i.html(h[e]);}catch(g){i.html("");}}},updateByNights:function(f,g,j,i){var e=this.calendar.getDateFromString($(f).val(),i);var h=$("#"+f.id+"-stay-nights");if(e){e.setDate(e.getDate()+parseInt(h.get(0).value));$(g).val(this.calendar.toStringFromComp(e.getDate(),e.getMonth()+1,e.getFullYear()));}},update:function(h,n,k,l,q,f){var o=$(h);var m=$(n);var g=this.calendar.getDateFromString(o.val(),f);var e=this.calendar.getDateFromString(m.val(),f);var i=$("#"+h.id+"-stay-nights");k=o.attr("data-min-range-length")||0;if(!q||isNaN(parseInt(q))||e){q=0;}this.updateDayName(h,g);this.updateDayName(n,e);if(g&&e){this.updateNumberOfNights(g,e);}if(g){if(e&&i.length!=0){var r=Math.round((e-g)/1000/60/60/24);if(r<1){r=i.get(0).value;}i.get(0).value=r;}var p=Math.max(k,q);g=new Date(g.valueOf()+1000*3600*24*p);var j=this.calendar.toStringFromComp(g.getDate(),g.getMonth()+1,g.getFullYear());if(e&&e<=g){e=null;}if(null==e&&(m.attr("data-optional")!="true"||m.val()!="")){e=this.calendar.getDateFromString(o.val(),f);this.updateNumberOfNights(e,g);if(i.length!=0&&i.get(0).value!=1){g.setDate(g.getDate()+parseInt(i.get(0).value)-1);var j=this.calendar.toStringFromComp(g.getDate(),g.getMonth()+1,g.getFullYear());}if(j!=m.val()){if(this.calendar.getShowDayOfWeek()){j=this.calendar.toStringWithDayFromDate(g);}m.val(j);m.blur();}if(exp.core.date.datePicker){exp.core.date.datePicker.entries[m.attr("id")].currentValue=g;}this.updateDayName(n,g);}}if(o.is(".fieldDefaultText")){o.removeClass("fieldDefaultText");}if(m.is(".fieldDefaultText")){m.removeClass("fieldDefaultText");}uitk.updatePlaceholderClass(o);uitk.updatePlaceholderClass(m);}};return c;};exp.core.date.CalendarControl=function(){var a=function(){var n="mmddyy";var b="/";var i=0;var g=["January","February","March","April","May","June","July","August","September","October","November","December"];var s=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"];var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic".split("._");var r=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];var j="dom._lun._mar._mi\xE9._jue._vie._s\xE1b".split("._");var f=["S","M","T","W","T","F","S"];var k="Close";var p="";var e=["night","nights"];var d=false;var h=function(x){d=x;};var w=function(x){e=x;};var v=function(x,y){n=x;b=y;};var m=function(y,x,A,z){i=y;g=x;f=A;if(z!=undefined){r=z;}};var c=function(x){r=x;};var q=function(y,x,z){i=y;s=x;f=z;};var o=function(x){s=x;};var u=function(x){k=x;};var l=function(x){p=x;};return{setFormatConfig:v,setUnitConfig:m,setDayNames:c,setSingleUnitConfig:q,setSingleMonth:o,setTextConfig:u,setLocaleConfig:l,setShowDayOfWeek:h,setNightTextConfig:w,getDateFormat:function(){return n;},getDateSeparator:function(){return b;},getStartOfWeek:function(){return i;},getMonths:function(){return g;},getSingleMonths:function(){return s;},getDayAbbrs:function(){return f;},getDayNames:function(){return r;},getCloseText:function(){return k;},getLocaleConfig:function(){return p;},getNightTextConfig:function(){return e;},getShowDayOfWeek:function(){return d;},getDayNamesEs:function(){return j;},getSingleMonthsEs:function(){return t;}};};return{Config:new a("ddmmyy",".",2)};}();uitk.publish("sf.date.ready");var wizard_api=wizard_api||{};wizard_api.util={};wizard_api.util.DATE_SEPERATOR_REGEX=/[\- \/.]/;wizard_api.util.NORMALIZED_DATE_FORMAT="mmddyyyy";wizard_api.util.DATE_FORMAT="mm/dd/yyyy";wizard_api.util.isBlank=function(b){var a;if(b.val()!==undefined){a=b.val();}return $.trim(a)==""||$.trim(a)==b.attr("placeholder");};wizard_api.util.wizardDate=function(b,f){var g=(1000*60*60*24);var c=new Date(b.valueOf()+(g*f));function a(){return c.getMonth()+1<10?"0"+(c.getMonth()+1):c.getMonth()+1;}function e(){return c.getDate()<10?"0"+c.getDate():c.getDate();}function d(){return c.getFullYear();}this.format=function(i){var h=i.toUpperCase().replace("MM",a());h=h.replace("DD",e());h=h.replace("YYYY",d());h=h.replace("YY",(d()%2000));return h;};};wizard_api.util.formatDate=function(c,d,a){var b=new wizard_api.util.wizardDate(a||new Date(),d);return b.format(c);};wizard_api.util.splitDate=function(c){if(!c||c==""){return null;}var a={"mmddyy":{day:1,month:0,year:2},"mmddyyyy":{day:1,month:0,year:2},"ddmmyy":{day:0,month:1,year:2},"ddmmyyyy":{day:0,month:1,year:2},"yymmdd":{day:2,month:1,year:0},"yyyymmdd":{day:2,month:1,year:0}};var d=c.split(wizard_api.util.DATE_SEPERATOR_REGEX);var e=a[wizard_api.util.NORMALIZED_DATE_FORMAT];if(e==undefined){return[];}var b={day:parseInt(d[e["day"]],10),month:parseInt(d[e["month"]],10),year:parseInt(d[e["year"]],10)};
if(b.year<100){b.year=2000+b.year;}return b;};wizard_api.util.parseDate=function(c){if(!c){return null;}var a=wizard_api.util.splitDate(c);var b=new Date(a.year,a.month-1,a.day);if(isNaN(b.getTime())){return null;}return b;};wizard_api.util.calendarDateFormat=function(c,a){var b={"mmddyy":"mm"+a+"dd"+a+"yy","ddmmyy":"dd"+a+"mm"+a+"yy","yymmdd":"yy"+a+"mm"+a+"dd","ddmmyyyy":"dd"+a+"mm"+a+"yyyy"};return b[c];};function startLocalFavouritesModule(){var a=$(".local-favourites-module");window.localFavouritesModule={};if(a.length>0){$.each(a,function(b){window.localFavouritesModule[b]=new LocalFavouritesModule({index:b,containerEl:$(this),moduleTimeOut:$(this).attr("data-module-timeout"),mcicid:$(this).attr("data-mcicid"),responseModels:$(this).attr("data-response-models"),dataSource:{tplToUse:$(this).attr("data-tpl-to-use").replace(/-/g,""),url:$(this).attr("data-url")},loaders:{primary:'<div title="Loading..." class="loader"></div>',secondary:'<div title="Loading..." class="loader-secondary"></div>'}});});}}uitk.subscribe("contentSlider.pageChange",function(b,d,a){var c=d.parent();if(c.hasClass("local-favourites-module")){var e=window.localFavouritesModule[c.index(".local-favourites-module")];e.updateTracking(e.pageData.contentSliderTiles);}});var LocalFavouritesModule=function(a){var b=this;b.debug=(typeof window.console=="object")?true:false;b.defaults=a;b.containerEl=a.containerEl;b.index=a.index+1;b.pageData={};b.dynamicData={};b.dynamicData.responseModels=a.responseModels;b.loaders=a.loaders;b.moduleTemplates={};b.moduleHeight="";b.init();};LocalFavouritesModule.prototype.init=function(){var a=this;a.getDynamicData();a.getPageData();a.getModuleTemplates();a.loadUtils();a.bindEvents();a.loaderAnim("start");a.containerEl.attr("id","local-favourites-module-"+a.index+"-container");};LocalFavouritesModule.prototype.getPageData=function(b){var a=this;a.pageData={localFavouritesTpls:$(".local-favourites-module-tpl"),contentSliderPages:a.containerEl.find(".content-slider-pages"),contentSlider:a.containerEl.find(".content-slider"),contentSliderMask:a.containerEl.find(".content-slider-mask"),contentSliderTileGrid:a.containerEl.find(".tile-grid"),contentSliderTiles:a.containerEl.find(".tile"),contentSliderControls:a.containerEl.find(".content-slider-controls"),alertInfo:a.containerEl.find(".alert-info"),secondaryBoxes:a.containerEl.find(".tile")};if(typeof b=="function"){b();}};LocalFavouritesModule.prototype.getModuleTemplates=function(){var b=this;var a=b.defaults.dataSource.tplToUse;b.moduleTemplates[a]=Handlebars.partials[a];};LocalFavouritesModule.prototype.getDynamicData=function(){var b=this;try{$.ajax({url:encodeURI(b.defaults.dataSource.url),cache:true,dataType:"json",timeout:parseInt(b.defaults.moduleTimeOut),success:function(c){if(c.hasOwnProperty(b.dynamicData.responseModels)){$(b).trigger("LocalFavouritesModule:response-loaded",{dataContainer:b.dynamicData.responseModels+"Container",dataRoot:b.dynamicData.responseModels,tplToUse:b.defaults.dataSource.tplToUse,data:c});$(".tile-price strong").each(function(){var e=$(this).html();var d=$("<span>"+e.charAt(0)+"</span>").addClass("currency");$(this).html(e.substring(1)).prepend(d);});}else{$(b.containerEl).html("");}},error:function(){$(b.containerEl).html("");}});}catch(a){$(b.containerEl).html("");}};LocalFavouritesModule.prototype.bindEvents=function(){var a=this;$(a).bind("LocalFavouritesModule:response-loaded",function(d,b){var c=b&&b.data&&b.dataRoot&&b.data[b.dataRoot][0]&&b.data[b.dataRoot][0].items&&b.data[b.dataRoot][0].items.regions&&b.data[b.dataRoot][0].items.regions[0]&&b.data[b.dataRoot][0].items.regions[0].hotels;if(c){if(b.data.errorCode==0&&b.data[b.dataRoot][0].items.regions[0].hotels.length>2){a.dynamicData[b.dataContainer]=b.data;a.render(b.dataContainer,b.dataRoot,b.tplToUse,b);}else{$(a.containerEl).html("");}}else{dctk.logging.logError("Local Favorites Module data error",new Error());}});$(a).bind("LocalFavouritesModule:display-error",function(c,b){a.pageData.contentSlider.hide();a.pageData.contentSlider.height("auto");a.loaderAnim("stop");a.pageData.alertInfo.removeClass("hidden").bind("click",function(){a.containerEl.delay("500").fadeOut();});});};LocalFavouritesModule.prototype.loadUtils=function(){var a=this;a.objectSize=function(d){var c=0,b;for(b in d){if(d.hasOwnProperty(b)){c++;}}return c;};a.sortJSON_by=function(d,b,e){var c=e?function(f){return e(f[d]);}:function(f){return f[d];};return function(h,g){var f=c(h),i=c(g);return(f<i?-1:(f>i?+1:0))*[-1,1][+!!b];};};Handlebars.registerHelper("LFMunescape",function(b){return unescape(b);});Handlebars.registerHelper("LFMuseLargerImage",function(b){return b.replace("_l.jpg","_b.jpg");});Handlebars.registerHelper("LFMstarRating",function(b){return b.replace(/\./,"-");});Handlebars.registerHelper("LFMaddSpaces",function(b){var c=b.replace(/%20/g,"&nbsp;");c=c.replace(/%2C/g,",");c=c.replace(/%22/g,'"');c=c.replace(/%26/g,"&");c=c.replace(/%27/g,"'");c=c.replace(/%28/g,"(");c=c.replace(/%29/g,")");c=c.replace(/%2A/g,"*");c=c.replace(/%2D/g,"-");c=c.replace(/%2E/g,".");return c;});Handlebars.registerHelper("LFMlist",function(f,g){var d="";if(corewizard.masterconfig.abacus[6002]==="1"){var b=3;}else{var b=f.length;}for(var e=0,c=b;e<c;e++){d=d+g.fn(f[e]);}return d;});};LocalFavouritesModule.prototype.updateTracking=function(c){var f=this,b=Math.floor(f.pageData.contentSliderMask.width()/$(c[0]).width()),h=1,g=1;$.each(c,function(j){if($(this).children("a").attr("href").indexOf(f.defaults.mcicid)==-1){a($(this),j);}else{d($(this),j);}});function e(j,o){var m=j.split("?"),n,l,k;if(m.length>=2){n=encodeURIComponent(o)+"=";l=m[1].split(/[&;]/g);for(k=l.length-1;k>0;k--){if(l[k].lastIndexOf(n,0)!==-1){l.splice(k,1);j=m[0]+"?"+l.join("&");}}}return j;}function a(l,k){var j="",n=l.children("a"),m=n.attr("href");if(k>0&&k%b==0){g=1;h++;}j="."+h+"."+g;l.attr("data-tracking-id",f.defaults.mcicid+j);m=m+f.defaults.mcicid+j;n.attr("href",m);g++;}function d(k,j){k.attr("data-tracking-id","");var l=e(k.children("a").attr("href"),"mcicid");k.children("a").attr("href",l);a(k,j);}};LocalFavouritesModule.prototype.render=function(k,l,j,a){var g=this,c=0,h=0,b=[];g.dynamicData[k].renderedHtml="";g.dynamicData[k].id=g.index;g.dynamicData[k][l+"Tiles"]=[];if(typeof g.dynamicData[k][l][0]!="undefined"){for(i in g.dynamicData[k][l]){if(typeof g.dynamicData[k][l][i]=="object"){g.dynamicData[k][l][i].moduleId=g.index;g.dynamicData[k][l][i].slideTileId=h;if(h>0&&h%3==0){c++;}g.dynamicData[k][l][i].slidePageId=c;g.dynamicData[k][l+"Tiles"][i]=g.dynamicData[k][l][i];h++;}}}else{$(g.containerEl).html("");}var e=a.data.recommendations[0].items.regions;var f=[];for(var i=0;i<e.length;i++){f=f.concat(e[i].hotels);}var d={recommendationsTiles:f};g.dynamicData[k].renderedHtml=g.moduleTemplates[j](d);g.loaderAnim("stop");if(g.dynamicData[k].renderedHtml!=""){$(g.dynamicData[k].renderedHtml).appendTo(g.containerEl);g.getPageData(function(){g.pageData.contentSlider.uitk_contentSlider();g.getPageData();g.pageData.contentSliderControls.attr("id","local-favourites-module-"+g.index+"-controls");g.pageData.contentSlider.animate({"height":g.pageData.contentSliderTileGrid.height()+g.pageData.contentSliderControls.children("button").eq(0).height()+parseInt(g.pageData.contentSliderControls.css("margin-top"))},function(){g.pageData.contentSlider.css("height","auto");});});}};LocalFavouritesModule.prototype.loaderAnim=function(a){var b=this;if(a=="start"){if(b.pageData.loaderPrimary!=undefined){b.pageData.loaderPrimary.show();}else{$(b.loaders.primary).appendTo(b.containerEl);b.pageData.loaderPrimary=b.containerEl.find(".loader");}}else{b.pageData.loaderPrimary.closest(".local-favourites-module").removeClass("loading");}};var corewizard=corewizard||{};corewizard.applyCarouselOmniture=function(){var a=$(".content-slider[data-omniture-prefix]");if(a){$(a).on(uitk.clickEvent,".current-tile",function(f){var i=$(this).parents(".content-slider"),c=$(i).attr("data-omniture-prefix"),h=$(this).find("a"),d=$(h).attr("href"),g=$(i).attr("data-current-page"),b=$(i).find(".current-tile").index(this)+1;
f.preventDefault();if(d.indexOf("?")>-1){window.location.href=d+"&rfrr="+c+"."+g+"."+b;}else{window.location.href=d+"?rfrr="+c+"."+g+"."+b;}});}};var topdest=topdest||{};topdest.imgPath="https://images.trvl-media.com/media/content/expuk/Images/deals/destinations/w456/";topdest.US=[{rid:178276,url2:"/Hotel-Search?rfrr=Home.DesRec.1.ab2#adults=2&regionId=178276",url3:"/Las-Vegas.d178276.Destination-Travel-Guides?rfrr=Home.DesRec.1.ab3",hotelcount:228,price:"$77",img:"lasvegas_c.jpg",title:"1. Las Vegas, NV"},{rid:178293,url2:"/Hotel-Search?rfrr=Home.DesRec.2.ab2#adults=2&regionId=178293",url3:"/New-York.d178293.Destination-Travel-Guides?rfrr=Home.DesRec.2.ab3",hotelcount:800,price:"$203",img:"newyork_c.jpg",title:"2. New York, NY"},{rid:178294,url2:"/Hotel-Search?rfrr=Home.DesRec.3.ab2#adults=2&regionId=178294",url3:"/Orlando.d178294.Destination-Travel-Guides?rfrr=Home.DesRec.3.ab3",hotelcount:752,price:"$111",img:"orlando_c.jpg",title:"3. Orlando, FL"},{rid:178280,url2:"/Hotel-Search?rfrr=Home.DesRec.4.ab2#adults=2&regionId=178280",url3:"/Los-Angeles.d178280.Destination-Travel-Guides?rfrr=Home.DesRec.4.ab3",hotelcount:765,price:"$348",img:"LosAngeles.jpg",title:"4. Los Angeles, CA",hideMobile:true},{rid:178305,url2:"/Hotel-Search?rfrr=Home.DesRec.5.ab2#adults=2&regionId=178305",url3:"/San-Francisco.d178305.Destination-Travel-Guides?rfrr=Home.DesRec.5.ab3",hotelcount:382,price:"$243",img:"SanFrancisco_c.jpg",title:"5. San Francisco, CA",hideMobile:true},{rid:178248,url2:"/Hotel-Search?rfrr=Home.DesRec.6.ab2#adults=2&regionId=178248",url3:"/Chicago.d178248.Destination-Travel-Guides?rfrr=Home.DesRec.6.ab3",hotelcount:626,price:"$204",img:"Chicago_c.jpg",title:"6. Chicago, IL",hideMobile:true},{rid:178304,url2:"/Hotel-Search?rfrr=Home.DesRec.7.ab2#adults=2&regionId=178304",url3:"/San-Diego.d178304.Destination-Travel-Guides?rfrr=Home.DesRec.7.ab3",hotelcount:485,price:"$192",img:"Sandiego.jpg",title:"7. San Diego, CA",hide:true},{rid:178286,url2:"/Hotel-Search?rfrr=Home.DesRec.8.ab2#adults=2&regionId=178286",url3:"/Miami.d178286.Destination-Travel-Guides?rfrr=Home.DesRec.8.ab3",hotelcount:483,price:"$122",img:"miamibeach.jpg",title:"8. Miami, FL",hide:true},{rid:178318,url2:"/Hotel-Search?rfrr=Home.DesRec.9.ab2#adults=2&regionId=178318",url3:"/Washington.d178318.Destination-Travel-Guides?rfrr=Home.DesRec.9.ab3",hotelcount:436,price:"$141",img:"washington.jpg",title:"9. Washington, D.C.",hide:true}];topdest.US_regionIds=[178276,178293,178294,178280,178305,178248,178304,178286,178318];topdest.UK=[{rid:178279,url2:"/Hotel-Search?rfrr=Home.DesRec.1.ab2#adults=2&regionId=178279",url3:"/London.d178279.Holidays-City-Breaks?rfrr=Home.DesRec.1.ab3",hotelcount:"1,427",price:"151",img:"london.jpg",title:"1. London"},{rid:179898,url2:"/Hotel-Search?rfrr=Home.DesRec.2.ab2#adults=2&regionId=179898",url3:"/Paris.d179898.Holidays-City-Breaks?rfrr=Home.DesRec.2.ab3",hotelcount:"2,180",price:"77",img:"paris_c.jpg",title:"2. Paris"},{rid:178293,url2:"/Hotel-Search?rfrr=Home.DesRec.3.ab2#adults=2&regionId=178293",url3:"/New-York.d178293.Holidays-City-Breaks?rfrr=Home.DesRec.3.ab3",hotelcount:802,price:"128",img:"newyork_c.jpg",title:"3. New York, NY"},{rid:178229,url2:"/Hotel-Search?rfrr=Home.DesRec.4.ab2#adults=2&regionId=178229",url3:"Amsterdam.d178229.Holidays-City-Breaks?rfrr=Home.DesRec.4.ab3",hotelcount:594,price:"91",img:"amsterdam_c.jpg",title:"4. Amsterdam",hideMobile:true},{rid:179899,url2:"/Hotel-Search?rfrr=Home.DesRec.5.ab2#adults=2&regionId=179899",url3:"/Rome.d179899.Holidays-City-Breaks?rfrr=Home.DesRec.5.ab3",hotelcount:"2,504",price:"68",img:"rome_c.jpg",title:"5. Rome",hideMobile:true},{rid:179992,url2:"/Hotel-Search?rfrr=Home.DesRec.6.ab2#adults=2&regionId=179992",url3:"/Barcelona.d179992.Holidays-City-Breaks?rfrr=Home.DesRec.6.ab3",hotelcount:949,price:"105",img:"barcelona.jpg",title:"6. Barcelona",hideMobile:true},{rid:178256,url2:"/Hotel-Search?rfrr=Home.DesRec.7.ab2#adults=2&regionId=178256",url3:"/Dublin.d178256.Holidays-City-Breaks?rfrr=Home.DesRec.7.ab3",hotelcount:286,price:"101",img:"dublin_c.jpg",title:"7. Dublin",hide:true},{rid:180010,url2:"/Hotel-Search?rfrr=Home.DesRec.8.ab2#adults=2&regionId=180010",url3:"/Manchester.d180010.Holidays-City-Breaks?rfrr=Home.DesRec.8.ab3",hotelcount:171,price:"74",img:"manchester.jpg",title:"8. Manchester",hide:true},{rid:6069845,url2:"/Hotel-Search?rfrr=Home.DesRec.9.ab2#adults=2&regionId=6069845",url3:"/Edinburgh.d6069845.Holidays-City-Breaks?rfrr=Home.DesRec.9.ab3",hotelcount:420,price:"116",img:"edinburgh_c.jpg",title:"9. Edinburgh",hide:true}];topdest.UK_regionIds=[178279,179898,178293,178229,179899,179992,178256,180010,6069845];topdest.getRegionViewCounts=function(){var a=(site_id==1)?topdest.US_regionIds:topdest.UK_regionIds;$.each(a,function(b,c){urgency.getRegionalHotelUrgency(c,function(e){if(e&&e.hotelProductActivityAtRegionLevelList&&e.hotelProductActivityAtRegionLevelList[0]){var d=e.hotelProductActivityAtRegionLevelList[0].viewCount;if(d>1){$("#topdest-"+c+" .regionViewCount").html(d+" viewing now");}}});});};topdest.init=function(){var f=$("#topdest-container");if(f.length==0){return;}var d=Handlebars.partials["handlebars/topdest"];var c=(site_id==1)?topdest.US:topdest.UK;var e=corewizard.masterconfig.abacus["7700"];topdest.tid=e;var a=1;$.each(c,function(g,h){if(e==1){h.price=h.hotelcount=false;}h.url=h["url"+e];h.hotelcount=(e==2)?("See all "+h.hotelcount+" hotels"):"";});var b=d(c);$("#topdest-tiles").html(b);f.removeClass("visuallyhidden");topdest.getRegionViewCounts();};topdest.showMoreCallback=function(b,a){$(".top-dest-tile.visuallyhidden").removeClass("visuallyhidden");$(".top-dest-tile.hideMobile").removeClass("hideMobile");dctk.onReady(function(){dctk.trackEvent({rfrr:"Home.DesRec.ShowMore.ab"+topdest.tid});});};uitk.subscribe("remove-top-dest-show-more",topdest.showMoreCallback);var recentlyViewed=recentlyViewed||{};recentlyViewed.hotelIds=[];recentlyViewed.rvModel=[];recentlyViewed.regionIds=[];recentlyViewed.tlaRegionIdLookup=[];recentlyViewed.init=function(){function b(){recentlyViewed.getModel();recentlyViewed.renderModel();recentlyViewed.initRecommendations();}var f=recentlyViewed.lbi;if(recentlyViewed.config.recHBookedF&&f&&f.destinationAirport){var d;if(f.destinationName){var e=(f.destinationName&&f.destinationName.indexOf("city=")==0)?5:0;var c=f.destinationName.indexOf("&");var a=(c>0)?c:f.destinationName.length;var d=f.destinationName.substring(e,a);d=d.replace("+"," ");}else{d=f.destinationAirport;}recentlyViewed.getHotelRecommendations(f.destinationAirport,d,f.startDate.m_dateTimeString,f.endDate.m_dateTimeString,1,"flight",true);if(typeof corewizard.masterconfig!="undefined"&&corewizard.masterconfig.abacus["6260"]=="1"){recentlyViewed.getModel();}}else{b();recentlyViewed.getUrgencyMessages();}};recentlyViewed.renderModel=function(){if(recentlyViewed.rvModel[0]){var b=recentlyViewed.user;var d={signedIn:(b.signedIn&&b.username&&b.username.length>0)?b.username:"",isUseNewFlexCard:recentlyViewed.config.isUseNewFlexCard,rvModel:recentlyViewed.rvModel};var a=Handlebars.partials["handlebars/recentlyviewed/container"];var c=a(d);$(".rv-container").html(c).find(".box:odd").addClass("even");recentlyViewed.addPlaceholders();}};recentlyViewed.addPlaceholders=function(){var a=recentlyViewed.rvModel.length;if(recentlyViewed.config.isUseNewFlexCard){$("#rv-container .flex-listing .flex-empty").remove();if(a%2>0){var b='<div class="col flex-empty"><div class="flex-card box placeholder"></div></div>';$("#rv-container .flex-listing").append(b);}}else{$("article.placeholder").remove();$(".rv-container .even").removeClass("even");$(".rv-container").find(".box:odd").addClass("even");if(a%2>0){$("#rv-container .cols-row").append("<article class='box placeholder even'></article>");}}};$(function(){var b=document.getElementById("rv-container"),a={"rvH":"Home.RV.Hotel","rvP":"Home.RV.Package","rsF":"Home.RS.Flight","rsH":"Home.RS.Hotel","rsP":"Home.RS.Package"};$(b).find(".box.col").each(function(){var c=$(this).attr("data-rv-type"),d=$(this).find("a"),e=$(d).attr("href");
if(e.indexOf("?")==-1){e+="?";}else{if(e.slice(-1)!="&"){e+="&";}}$(d).attr("href",e+"rfrr="+a[c]);});});recentlyViewed.deleteBoxCallback=function(h,b){if(typeof b.data!="undefined"&&typeof b.data().rvType!="undefined"&&b.data().rvType.length>0){var f=b;var a=f.attr("id");var c=f.attr("sfid");var i=f.attr("data-rv-type");var e=f.attr("data-interaction-id");if(!e){e=c;}if(i.length==0){return false;}var g=recentlyViewed.rvModel.length;if(g==1){if(recentlyViewed.config.isUseNewFlexCard){var d='<div class="col flex-empty"><div class="flex-card box placeholder"></div></div>';$("#rv-container .flex-listing").append(d);}else{$("#rv-container .cols-row").prepend("<article class='box placeholder'></article>");}recentlyViewed.rvModel.length=0;}else{$.each(recentlyViewed.rvModel,function(j,k){if(a==k.id){recentlyViewed.rvModel.splice(j,1);return false;}});recentlyViewed.addPlaceholders();}recentlyViewed.initRecommendations();if(i=="rvH"){a=a.split("-")[1];}else{if(i=="rvP"){a="VP-"+a.split("-")[1];}else{if(i=="rsH"){a="SH-"+c;}else{if(i=="rsF"){a=c;}else{if(i=="rsP"){a="SP-"+c;}}}}}recentlyViewed.notInterested(a,e);}};if(corewizard.masterconfig.abacus[7219]==="1"||(corewizard.masterconfig.abacus[8022]==="1")){uitk.subscribe("remove",recentlyViewed.deleteBoxCallback);}else{uitk.subscribe("remove-rv-box",recentlyViewed.deleteBoxCallback);}recentlyViewed.notInterested=function(c,b){var a="";if(b){a="&interactionId="+b;}$.ajax({url:"/UserActivityData/notInterested?id="+c+a,cache:false});};recentlyViewed.getModel=function(){recentlyViewed.rvModel=[];recentlyViewed.hotelIds.length=0;$("#rv-container").addClass("ab3293");recentlyViewed.populateTimeSortedRvModel();return recentlyViewed.rvModel;};recentlyViewed.getDataFromAirportTla=function(a,b){$.ajax({dataType:"jsonp",url:"https://suggest.expedia.com/hint/es/v2/sri/en_US/"+a+"?lob=packages",success:b,cache:false,timeout:2000});};recentlyViewed.collectRegionIdsForTicker=function(c,b){if(typeof corewizard.masterconfig=="undefined"||corewizard.masterconfig.abacus["6260"]!="1"){return;}if(recentlyViewed.regionIds.length>(5+recentlyViewed.tlaRegionIdLookup.length)){return;}if(b){var a=c;if(typeof a!="string"||a.length!=3||recentlyViewed.tlaRegionIdLookup.indexOf(a)!=-1){return;}recentlyViewed.tlaRegionIdLookup.push(a);recentlyViewed.regionIds.push(a);recentlyViewed.getDataFromAirportTla(a,function(d){var e;var f=d.q;var g=parseInt(d.sr[0].amc);if(typeof g=="number"){e=recentlyViewed.regionIds.indexOf(f);if(recentlyViewed.regionIds.indexOf(g)==-1){recentlyViewed.regionIds[e]=g;}}e=recentlyViewed.tlaRegionIdLookup.indexOf(f);recentlyViewed.tlaRegionIdLookup[e]=0;});}else{if(typeof c=="number"&&recentlyViewed.regionIds.indexOf(c)==-1){recentlyViewed.regionIds.push(c);}}};recentlyViewed.populateTimeSortedRvModel=function(){function x(z,A,y,B){if(z<A){var C=new Date(y[z].searchedDate||y[z].viewedDate);if(u==""||C>u){u=C;q=B;}}}var o=recentlyViewed.UAD;var j,w,h,b,g;j=w=h=b=g=0;var c=(o.viewedHotels)?o.viewedHotels.length:0;var a=(o.viewedPackages)?o.viewedPackages.length:0;var l=(o.searchedHotels)?o.searchedHotels.length:0;var v=(o.searchedFlights)?o.searchedFlights.length:0;var d=(o.searchedPackages)?o.searchedPackages.length:0;var k=8;var e=0;while(e<k&&(h<l||b<v||g<d||j<c||w<a)){var u="";var q="";x(h,l,o.searchedHotels,"rsH");x(b,v,o.searchedFlights,"rsF");x(g,d,o.searchedPackages,"rsP");x(j,c,o.viewedHotels,"rvH");x(w,a,o.viewedPackages,"rvP");var t;if(q=="rsH"){var m=o.searchedHotels[h];t=recentlyViewed.convertRSItem(m,"hotel",h++);}else{if(q=="rsF"){var p=o.searchedFlights[b];t=recentlyViewed.convertRSItem(p,"flight",b++);t.ab3293=true;recentlyViewed.collectRegionIdsForTicker(p.destinationTLA,true);}else{if(q=="rsP"){var f=o.searchedPackages[g];t=recentlyViewed.convertRSItem(f,"package",g++);recentlyViewed.collectRegionIdsForTicker(f.destinationRegionId);}else{if(q=="rvH"){var n=o.viewedHotels[j];t=recentlyViewed.convertRVItem(n,"hotel",j++);recentlyViewed.hotelIds.push(n.hotelId);t.ab3293=true;recentlyViewed.collectRegionIdsForTicker(n.multicityRegionId);}else{if(q=="rvP"){var i=o.viewedPackages[w];t=recentlyViewed.convertRVItem(i,"package",w++);recentlyViewed.collectRegionIdsForTicker(i.multicityRegionId);}}}}}recentlyViewed.rvModel.push(t);e++;}if(recentlyViewed.tlaRegionIdLookup.length==0){if(uitk&&typeof uitk.publish=="function"){uitk.publish("tickerRegionIds.ready",{state:"done"});}}else{var s=function(y,z){uitk.publish("tickerRegionIds.ready",{state:"done"});};uitk.subscribe("regionId-lookup-done",s);var r=function(){setTimeout(function(){var y=true;for(var z=0;z<recentlyViewed.tlaRegionIdLookup.length;z++){if(recentlyViewed.tlaRegionIdLookup[z]!=0){y=false;break;}}if(y){uitk.publish("regionId-lookup-done");return;}r();},500);};r();}};recentlyViewed.formatDate=function(c){if(!c){return"";}var a;if(uitk&&uitk.utils){a=uitk.utils.createLocalizedDate(new Date(c),uitk.locale).mediumDate();}else{var b=new XDate(new Date(c));a=b.toString(recentlyViewed.config.mediumDateFormat,recentlyViewed.config.locale);}return a;};recentlyViewed.dateDiffInDays=function(b,a){var e=new Date(b);var d=new Date(a);var f=Math.abs(d.getTime()-e.getTime());var c=Math.ceil(f/(1000*3600*24));return c;};recentlyViewed.diffdaysMessageHotel=function(a){if(a==1){return recentlyViewed.config.text.singleNight;}else{return recentlyViewed.config.text.numberOfNights.replace("[x]",a);}};recentlyViewed.diffdaysMessage=function(b,a){if(a=="hotel"){return recentlyViewed.diffdaysMessageHotel(b);}else{return recentlyViewed.config.text.numberOfDays.replace("[x]",b+1);}};recentlyViewed.formatDatePair=function(b,a,c){if(!b||!a){return"";}var d=recentlyViewed.config.siteid;var e=recentlyViewed.dateDiffInDays(b,a);if(e==0){return recentlyViewed.formatDate(b)+" - "+recentlyViewed.formatDate(a);}else{return recentlyViewed.diffdaysMessage(e,c)+" ("+recentlyViewed.formatDate(b)+" - "+recentlyViewed.formatDate(a)+")";}};recentlyViewed.formatDateStandard=function(a){if(!a){return null;}var a=new XDate(new Date(a));return a.toString(recentlyViewed.config.shortDateFormat,recentlyViewed.config.locale);};recentlyViewed.formatNumber=function(b){var a=Math.round(b).toString();if(a.length>3){a=a+"#";a=a.replace(/\d(?=(\d{3})+\#)/g,"$&"+recentlyViewed.config.numberSeparator).replace("#","");}return a;};recentlyViewed.formatPrice=function(b){if(typeof b=="string"){return b;}var a=recentlyViewed.formatNumber(b);return(!recentlyViewed.config.showCurrencyAsSuffix)?recentlyViewed.config.currencySymbol+a:a+recentlyViewed.config.currencySymbol;};recentlyViewed.convertRVItem=function(c,b,a){var f={};f.isRV=true;f.hotelId=c.hotelId;f.hotelName=c.hotelName;f.localizedPageUrl=c.localizedPageUrl;f.thumbnail=(c.thumbnail)?c.thumbnail.replace("_t","_s"):"";f.city=c.regionLongName.substr(0,c.regionLongName.indexOf(","))||c.regionLongName;f.dates=recentlyViewed.formatDatePair(c.checkInDate,c.checkOutDate,b);f.checkIn=c.checkInDate;f.checkOut=c.checkOutDate;f.travelerUnits=c.travelerUnits;if(b=="hotel"){f.id="rvH"+a+"-"+c.hotelId;f.rvType="rvH";f.isRVH=true;f.price=(c.price&&c.price.amount&&c.price.amount>0)?recentlyViewed.formatPrice(c.price.amount):recentlyViewed.config.text.seePrice;f.ab3293viewedHotelStars=false;f.starsIcon=c.starRating.replace(".","-");f.stars=c.starRating;if(c.interactionId){f.interactionId=c.interactionId;}if(c.checkInDate&&c.checkOutDate){var g=c.localizedPageUrl.indexOf("chkin")+6;var e=c.localizedPageUrl.indexOf("chkout");var d=c.localizedPageUrl.indexOf("&",e);f.localizedPageUrl=c.localizedPageUrl.substring(0,g)+recentlyViewed.formatDateStandard(c.checkInDate)+"&chkout="+recentlyViewed.formatDateStandard(c.checkOutDate)+c.localizedPageUrl.substring(d);}}else{if(b=="package"){f.id="rvP"+a+"-"+c.hotelId;f.rvType="rvP";f.isRVP=true;f.price=(c.packagePricePerPerson&&c.packagePricePerPerson.amount)?recentlyViewed.formatPrice(Math.ceil(c.packagePricePerPerson.amount)):recentlyViewed.config.text.seePrice;if(c.packageSavings&&c.packageSavings.amount>0){f.packageSavings=recentlyViewed.formatPrice(Math.round(c.packageSavings.amount));
}if(c.origin&&c.origin.city&&c.destination&&c.destination.city){f.info=recentlyViewed.config.text.to.replace("[A]",c.origin.city).replace("[B]",c.destination.city);}}}if(f.price==recentlyViewed.config.text.seePrice){f.seePrice=true;}else{if(f.isRVH==true){if(recentlyViewed.config.pricePerNightOrTotalRate==="TR"){f.additionalPriceInfo=recentlyViewed.config.text.totalRate;}else{f.additionalPriceInfo=recentlyViewed.config.text.perNight;}}else{if(f.isRVP==true){f.additionalPriceInfo=recentlyViewed.config.text.perPerson;}}}return f;};recentlyViewed.convertRSItem=function(p,m,l){var c={};if(m=="hotel"){}else{if(m=="flight"){var b=p.origin.city+" ("+p.originTLA+")";var i=p.destination.city+" ("+p.destinationTLA+")";c.hotelName=recentlyViewed.config.text.rsfTitle.replace("[A]",b).replace("[B]",i);c.rsfShortName=recentlyViewed.config.text.to.replace("[A]",p.originTLA).replace("[B]",p.destinationTLA);c.localizedPageUrl=p.searchUrl;c.dates=recentlyViewed.formatDatePair(p.departureDate,p.returnDate,m);c.rvType="rsF";c.id="rsF"+l;c.isRSF=true;c.destTLA=p.destinationTLA;c.start=p.departureDate;c.end=p.returnDate;c.city=p.destination.city;c.flightType=p.flightType;if(c.flightType=="ROUND_TRIP"){c.flightTypeLocalized=recentlyViewed.config.text.roundtrip;var e=p.searchUrl.indexOf("departure")+10;var f=p.searchUrl.indexOf("TANYT",e);var n=p.searchUrl.indexOf("departure",f)+10;var o=p.searchUrl.indexOf("TANYT",n);c.localizedPageUrl=p.searchUrl.substring(0,e)+recentlyViewed.formatDateStandard(p.departureDate)+p.searchUrl.substring(f,n)+recentlyViewed.formatDateStandard(p.returnDate)+p.searchUrl.substring(o);}else{if(c.flightType=="MULTIPLE_DESTINATION"){c.flightTypeLocalized=recentlyViewed.config.text.multidest;}else{if(c.flightType=="ONE_WAY"){c.flightTypeLocalized=recentlyViewed.config.text.oneway;c.dates=recentlyViewed.formatDate(p.departureDate);var e=p.searchUrl.indexOf("departure")+10;var f=p.searchUrl.indexOf("TANYT",e);c.localizedPageUrl=p.searchUrl.substring(0,e)+recentlyViewed.formatDateStandard(p.departureDate)+p.searchUrl.substring(f);}}}if(p.price){var d=p.price.match(/\d+/g);if(d&&d[0].length){p.price=recentlyViewed.formatPrice(p.price);}}c.travelerUnit=p.travelerUnit;}else{if(m=="package"){c.hotelName=recentlyViewed.config.text.to.replace("[A]",p.origin.city).replace("[B]",p.destination.city);c.dates=recentlyViewed.formatDatePair(p.departureDate,p.returnDate,m);c.rvType="rsP";c.id="rsP"+l;c.isRSP=true;var h=[];var a=true;$.each(p.travelerUnits,function(q,r){var s={};s.adults=r.numberOfAdults;s.children=r.childAges;h.push(s);a=!r.infantInLap;});var k=recentlyViewed.formatDateStandard(p.departureDate);var j=recentlyViewed.formatDateStandard(p.returnDate);var g={isPackage:true,destination:p.destinationTLA,origin:p.originTLA,startDate:k,endDate:j,rooms:h,lapSeat:(a)?"lap":"seat",lang:recentlyViewed.config.lang};if((p.checkInDate&&p.checkInDate!=p.departureDate)||(p.checkOutDate&&p.checkOutDate!=p.returnDate)){g.isPartialStay=true;g.checkin=recentlyViewed.formatDateStandard(p.checkInDate);g.checkout=recentlyViewed.formatDateStandard(p.checkOutDate);}c.localizedPageUrl=corewizard.search.eapAspSearchUrl(g,"flightHotel");}}}c.isRS=true;c.sfid=p.cacheKey;c.price=p.price||recentlyViewed.config.text.seePrice;if(c.price==recentlyViewed.config.text.seePrice){c.seePrice=true;if(c.isRSP==true){c.price=recentlyViewed.config.text.seeFullSearch;c.additionalPriceInfo=recentlyViewed.config.text.packageDealVolumeMessage;}}else{if(c.isRSF==true){c.additionalPriceInfo=recentlyViewed.config.text.perPerson;}}return c;};recentlyViewed.getUrgencyMessages=function(){if(recentlyViewed.hotelIds.length>0){recentlyViewed.getFreeCancellation(recentlyViewed.hotelIds);recentlyViewed.getTrendMessage(recentlyViewed.hotelIds);}};recentlyViewed.getFreeCancellation=function(a){var b="";$.each(a,function(c,d){b=b+"&hotelId="+d;});$.ajax({dataType:"json",url:"/UserActivityDataAjax/getAdditionalHotelAvailInfo?"+b,success:recentlyViewed.freeCancellationCallback,cache:false,timeout:5000});};recentlyViewed.freeCancellationCallback=function(a){if(a!==null){if(typeof a=="string"){if(a.substring(0,5)==="Error"){recentlyViewed.getTrendMessage(recentlyViewed.hotelIds);return false;}dataArray=JSON.parse(a);}else{dataArray=a;}var d='<span class="price-info-additional free-cancellation" style="display:none;">'+recentlyViewed.config.text.freeCancellation+"</span>";for(var b=0;b<dataArray.length;b++){var c=dataArray[b];if(c.freeCancellation){$("[data-hotelId="+c.hotelId+"] .rv-price-info").append(d);}else{if(c.numberOfRoomsLeft&&parseInt(c.numberOfRoomsLeft)>0){var e=(c.numberOfRoomsLeft>1)?recentlyViewed.config.text.roomsLeft.replace("[x]",c.numberOfRoomsLeft):recentlyViewed.config.text.singleRoomLeft;$("[data-hotelId="+c.hotelId+"] .rv-price-info").append('<span class="price-info-additional number-of-rooms-left" style="display:none;">'+e+"</span>");}}}$(".free-cancellation, .number-of-rooms-left").fadeIn(1000);}};recentlyViewed.getTrendMessage=function(a){if(typeof a=="object"&&a.length>0){$.ajax({"url":"/Hotels/Offers","data":{"action":"getAndUpdateHotelProductActivity","hotelIds":a.join(","),"durationForViews":1800000,"durationForBookings":172800000},"success":recentlyViewed.trendMessageCallback,"timeout":5000,"dataType":"json"});}};recentlyViewed.trendMessageCallback=function(a){if(a!==null){if(typeof a=="string"){a=JSON.parse(a);}$.each(a.HotelProductActivityList,function(b,d){var c="";if(d.BookingCount&&parseInt(d.BookingCount)>0){c=(parseInt(d.BookingCount)==1)?recentlyViewed.config.text.othersBookingSingular:recentlyViewed.config.text.othersBooking.replace("[x]",d.BookingCount);}else{if(d.ViewCount&&parseInt(d.ViewCount)>0){c=(parseInt(d.ViewCount)==1)?recentlyViewed.config.text.othersViewingSingular:recentlyViewed.config.text.othersViewing.replace("[x]",d.ViewCount);}}if(c){$("[data-hotelId="+d.HotelId+"] .rv-trip-info .trip-info-additional").html('<span class="icon icon-trend" style="display:none;"></span><span style="display:none;">'+c+"</span>").addClass("trend-msg");$("[data-hotelId="+d.HotelId+"] .flex-card .trip-info-additional").html('<span class="icon icon-trend" style="display:none;"></span><span style="display:none;">'+c+"</span>").addClass("trend-msg");}});$(".rv-trip-info .trip-info-additional span").fadeIn(1000);$(".flex-card .trip-info-additional span").fadeIn(1000);}};recentlyViewed.initRecommendations=function(){var f=recentlyViewed.rvModel[0];var b="";var d;if(f&&f.rvType=="rvH"&&recentlyViewed.config.recVH){d=recentlyViewed._getTravelerValue(f);b=recentlyViewed.getHotelRecommendations(f.hotelId,f.city,f.checkIn,f.checkOut,d,"hotel");}else{if(f&&f.rvType=="rsF"&&recentlyViewed.config.recSF){var a=(f.flightType=="ROUND_TRIP"&&f.start!=f.end);var e=(f.flightType=="MULTIPLE_DESTINATION"&&f.start!=f.end&&(f.sfid.substring(20,23)!=f.sfid.substring(23,26)));if(a||e){var c=f.travelerUnit;var g=c.numberOfAdults;if(c.childAges&&c.childAges.length>0){g+=";"+c.childAges.join(":");}d=g||"1";b=recentlyViewed.getHotelRecommendations(f.destTLA,f.city,f.start,f.end,d,"flight");}}}return b;};recentlyViewed._getTravelerValue=function(a){var b=[];$.each(a.travelerUnits,function(c,d){var e=d.numberOfAdults;if(d.childAges.length>0){e+=";"+d.childAges.join(":");}b.push(e);});return b.join(",")||"1";};recentlyViewed.getHotelRecommendations=function(i,e,b,f,j,g,d){function h(m){var l=new Date();return(l.toDateString()==new Date(m).toDateString());}function k(q,o,l,n,p){if(q&&!h(o)){var r=recentlyViewed.formatDateStandard(o)||"";var m=recentlyViewed.formatDateStandard(l)||"";if(XDate(r).valid()&&XDate(m).valid()||p=="hotel"){Recommender.call(q,r,m,n,p,a,c);}}}function a(u){var w="&rfrr=HP.REC.Reommended.Click";var r="/Hotel-Search?startDate="+recentlyViewed.formatDateStandard(b)+"&endDate="+recentlyViewed.formatDateStandard(f)+w+"&selected=";if(u.length>=3){require(["dctk/dctk"],function(y){y.evaluateExperimentAndLog({id:11054});});var q=[],l=recentlyViewed.formatDatePair(b,f);if((corewizard.masterconfig.abacus["6925"]=="1")){var v=true;
}$.each(u,function(y,z){if((corewizard.masterconfig.abacus["6002"]=="1")&&y>2){return false;}var B={};B.id=z.hotelId;var A=corewizard.masterconfig.abacus["11054"]=="1"?r+B.id:z.urlToHotelInfosite+w;if($.inArray(B.id,recentlyViewed.hotelIds)==-1){B.localizedPageUrl=A;B.thumbnail=z.urlToThumbnail;B.hotelName=decodeURIComponent(z.localizedHotelName||z.hotelName);B.starsIcon=z.starRating.replace(".","-");B.stars=z.starRating;B.city=(z.hotelProvince)?z.hotelCity+", "+z.hotelProvince:z.hotelCity;B.dates=l;B.currencySymbol=recentlyViewed.config.currencySymbol;B.showCurrencyAsSuffix=recentlyViewed.config.showCurrencyAsSuffix;B.price=recentlyViewed.formatNumber((recentlyViewed.config.useAverageDailyHotelPrice)?Math.round(z.averagePriceValue):Math.round(z.totalPriceValue));B.ab6925redColorPrice=v;q.push(B);}});if(q.length>=3){var n={hotel:q,city:e,isForBookedFlight:d,displayAsAveragePrice:recentlyViewed.config.useAverageDailyHotelPrice};if(!recentlyViewed.config.useAverageDailyHotelPrice){var m=new XDate(new Date(b));var s=new XDate(new Date(f));n.nights=(m[0]=="Invalid Date"||s[0]=="Invalid Date")?1:m.diffDays(s);n.isMultiNight=(n.nights>1);}var x=Handlebars.partials["handlebars/recommender/container"];var t=x(n);var p=$(".recommender-container");p.html(t);var o=document.getElementById("rec-content-slider");$(o).uitk_contentSlider();}}}function c(l){}k(i,b,f,j,g);return g+"-"+e;};Handlebars.registerHelper("ifRVPackageDiscountMessageEnabled",function(b,a){if(recentlyViewed.config.RVPackageDiscountMessageEnabled&&b){return a.fn(this);}});var Recommender=(function(){var b,e,d,h,i;function j(p){getMonthString=function(w){var v=parseInt(w,10);var u=h.split(",");return u[v-1];};if(p){if(typeof d=="undefined"||typeof h=="undefined"){return"";}var t=/[^A-Za-z0-9]+/;var r=d.split(t);var s=0;var n=1;for(var q=0;q<r.length;q++){if(r[q]=="MM"){s=q;}if(r[q]=="dd"){n=q;}}var o=p.split(t);return getMonthString(o[s])+" "+o[n];}else{return"";}}function c(r,t,x,w){var o=[];var u=3;for(var s=0;s<r.length&&u>0;s++){var q=r[s];var n=q.urlToThumbnail;if(n==""||n=="https://images.trvl-media.com/"){n="/static/default/default/images/hotResult/noPhotosAvailSmall.gif";}else{n=n.replace("_l.jpg","_t.jpg");}var y=false;for(var p=0;p<t.length;p++){if(t[p]==q.hotelId){y=true;break;}}if(!y){u--;t.push(q.hotelId);var v={"hotelId":q.hotelId,"index":s,"hotelName":decodeURIComponent(q.localizedHotelName?q.localizedHotelName:q.hotelName),"urlToThumbnail":n,"starDotRating":q.starRating,"starDashRating":q.starRating.replace(".","-"),"hotelCity":q.hotelCity,"averagePrice":decodeURIComponent(q.averagePrice,10),"crossOutPrice":decodeURIComponent(q.crossOutPrice,10),"crossOutPriceValue":parseInt(q.crossOutPriceValue),"percentageSavingsString":parseInt(q.percentageSavingsString),"urlToHotelInfosite":q.urlToHotelInfosite+"&rfrr="+x,"priceUrlToHotelInfosite":q.urlToHotelInfosite+"&rfrr="+w,"startDate":j(b),"endDate":j(e),"recommended":true,"urgency":Urgency.formatUrgencyMsg({"BookingCount":q.peopleBooked,"ViewCount":q.otherViewing})};o.push(v);}}return o;}function m(r,t,y){var o=[];var v=5;for(var s=0;s<r.length&&v>0;s++){var q=r[s];v--;t.push(q.hotelId);var p=q.starRating.toFixed(1);var u="$"+q.pricePerNight.toFixed(0);var x=q.imageUrl;if(x==""||x=="https://images.trvl-media.com/"){x="/static/default/default/images/hotResult/noPhotosAvailSmall.gif";}else{x=x.replace("_l.jpg","_t.jpg");}var n=unescape(q.dealDeepLink)+"&rfrr="+y;var w={"hotelId":q.hotelId+"","index":s,"hotelName":q.name,"urlToThumbnail":x,"starDotRating":p,"starDashRating":p.replace(".","-"),"hotelCity":q.city,"averagePrice":u,"urlToHotelInfosite":n,"priceUrlToHotelInfosite":n,"startDate":j(q.checkInDate.substring(5).replace(/-/g,"/")),"endDate":j(q.checkOutDate.substring(5).replace(/-/g,"/")),"recommended":true,"urgency":"Urgent"};o.push(w);}return o;}function l(p,o,n){$.ajax({url:p,async:true,dataType:"html",timeout:5000,success:function(q){if(q!=null){o(q);}else{n();}},error:function(s,q,r){n();}});}function a(p,n,o){$.ajax({url:p,async:true,dataType:"jsonp",mimeType:"application/jsonp",timeout:5000,success:function(q){if(q!=null&&q.hotels&&q.hotels.length>=4){n(q.hotels);}else{o();}},error:function(s,q,r){o();}});}function f(n,o,p){if(typeof n=="string"){n=JSON.parse(n);}if(n!=null&&n.errorCode==0&&n.hotelModels&&n.hotelModels.length){o(n.hotelModels);}else{p();}}function g(o,n,q){try{if(i!=null){i.abort();}i=$.ajax({"url":"/Hotel-Recommender-Ajax","data":o,"success":function(r){f(r,n,q);},"error":function(){q();},"timeout":5000,"dataType":"json"});}catch(p){q();}}function k(n,o,s,r,w,q,t,p,v){b=o||"";e=s||"";d=p||"";h=v||"";var r=r||"1";var u={"action":"getProductRecommendations","scenario":"homepage","rule":(w=="hotel")?"persona-item-item-xsell":"persona-region-item-xsell","maxCount":8,"getDetails":true,"itemId":n,"itemType":(w=="hotel")?"0":"1","startDate":b,"endDate":e,"travellersInfo":r,"personaId":"0"};g(u,q,t);}return{"call":k,"convertHotelObjects":c,"getGDEDeal":a,"convertGDEHotelObjects":m,"loadAttachFallbackModule":l};})();
/*!  generated on 2016-09-02 13:27:37.777 PDT(-0700) in 16 ms  */

/*!  served in 5 ms  */

(function(g,e,b){window.LOYALTY=window.LOYALTY||{};window.LOYALTY.couponmessage={init:h,setCouponMessage:a};var j;var i=b;function h(p,o,n){j=p;}function a(){if(j){g.ajax({type:"GET",url:"/loyalty/coupon/message",dataType:"json",success:c,error:d});}m("/loyalty/notification/couponavailability/hotel/",8048);m("/loyalty/notification/pointsexpiration/",8341);m("/loyalty/notification/couponexpiration/hotel/",8522);m("/loyalty/notification/onenightawaynexttier/",8636);m("/loyalty/notification/paywithpointseligibility/hotel/",8842);m("/loyalty/notification/rewardsnightsaway/",10885);m("/lxmip/notification/flight/",11405);}function c(o){if(!o.hasErrors){var s=window.LOYALTY.couponmsgmap;var r=o.couponInfo.hotelCouponAvailable;var u=o.couponInfo.availableCouponValue;var n=o.couponInfo.eligibleForHotelCoupon;var q=o.couponInfo.eligibleCouponDollarValue;var t=o.couponInfo.pointsNeededForHotelCoupon;var p="";if(r&&u>0){p=g(g.parseHTML(s.couponavailable));p.find(".name").html(o.firstName);p.find(".coupon-value").html(o.formattedCouponValue);l(p);}else{if(n&&q>0){p=g(g.parseHTML(s.eligiblecouponmsg));p.find(".name").html(o.firstName);p.find(".eligible-coupon-value").html(o.formattedEligibleCouponValue);l(p);}else{if(t<=3500){d();}}}}else{d();}}function l(n){g(".coupon-message").html(n);g("#rwd-msg-container").show();}function d(){g("#rwd-msg-container").hide();}function m(o,n){setTimeout(function(){g.ajax({type:"GET",url:o+"preconditions",dataType:"json",success:function(p){if(p.eligibleForNotification){k(n,o,p.notificationParams);}}});},1000);}function k(o,n,p){if(dctk&&dctk.enabled&&typeof dctk.evaluateExperimentAndLog==="function"){dctk.evaluateExperimentAndLog({id:o,callback:function(q){if(q.value==1){f(n+"v1",p);}else{if(q.value==2){f(n+"v2",p);}else{if(q.value==3){f(n+"v3",p);}}}}});}}function f(n,o){g.ajax({type:"POST",data:{params:o},dataType:"json",url:n});}g(document).ready(function(){g("#rwd-msg-close-btn").on(e.clickEvent,function(){var o=g("#rwd-msg-container"),n=g("#eligibleForPaywithPoints-container");if(o.length>0){o.hide();}if(n.length>0){n.hide();}});g("#new-homepage-search-wizard").on(e.clickEvent,"span[id^='rwd-msg-var2-close']",function(){g("#rwd-msg-var2-container").hide();});});})(window.jQuery,window.uitk);
/*!  generated on 2016-09-02 08:03:01.654 PDT(-0700) in 1 ms  */

/*!  served in 1 ms  */
